{"version":3,"sources":["components/ItemListing/index.js","components/EquippedItems/index.js","components/CharacterList/CharacterEntry/index.js","components/CharacterList/PetEntry/index.js","components/CharacterList/index.js","components/RenderCanvas/GenericCanvasElement/index.js","components/RenderCanvas/CharacterCanvasElement/index.js","components/RenderCanvas/index.js","const/localize.js","components/App/index.js","index.js","registerServiceWorker.js"],"names":["blacklistSubcategories","applicableCategories","character","pet","applicableSubcategories","cellMeasurerCache","itemListPromise","localStorage","axios","get","chairListPromise","ItemListing","props","state","items","categories","categoryNames","selectedCategory","search","gutterSize","columnWidth","categoryNameSelected","selectedGender","cashItemsOnly","similarItems","_cache","CellMeasurerCache","defaultHeight","defaultWidth","fixedWidth","fixedHeight","Promise","all","then","responses","_","every","res","status","chairData","data","filter","item","Math","floor","id","map","chair","typeInfo","category","itemData","groupedHair","groupBy","itemGrouping","firstItem","similar","groupedFaces","mapValues","concat","subCategory","keys","categoryNamesKeys","categoryName","unshift","setState","this","toLowerCase","localized","console","log","selectedType","target","type","applicableItems","indexOf","showIcons","i","name","toString","desc","isCash","c","requiredGender","className","value","onChange","bind","placeholder","toggleCashItems","checked","isCashFilter","changeGender","genderFilter","male","female","universal","subCategories","key","onClick","selectPrimaryCategory","charactor","armor","accessory","mount","oneHandedWeapon","twoHandedWeapon","selectChildCategory","hair","face","faceAccessory","eyeDecoration","earrings","pendant","belts","medal","shoulderAccessory","pocketItem","badge","emblem","ring","hat","cape","top","glove","overall","bottom","shield","shoes","shiningRod","soulShooter","desperado","whipBlade","psyLimiter","chain","gauntlet","oneHandedSword","oneHandedAxe","oneHandedBluntWeapon","dagger","katara","cane","wand","staff","cash","twoHandedSword","twoHandedAxe","twoHandedBlunt","spear","poleArm","bow","crossbow","claw","knuckle","gun","dualBowgun","handCannon","lapis","lazuli","armCannon","ancientBow","_renderAutoSizer","height","e","document","getElementsByClassName","scrollTop","deltaY","mouseOutSimilar","_height","onResize","_onResize","_renderMasonry","width","_width","_calculateColumnCount","_initCellPositioner","cellCount","length","cellPositioner","_cellPositioner","cellRenderer","ref","_setMasonryRef","_columnCount","createMasonryCellPositioner","columnCount","spacer","_columnHeights","_resetCellPositioner","_masonry","recomputeCellPositions","reset","index","parent","style","showSimilarTo","cache","itemIcon","hideSimilar","onWheel","onSimilarScroll","src","selectItem","alt","title","onMouseOver","showSimilar","iconImg","getElementById","parentElement","masonryContainer","x","offsetLeft","y","offsetTop","primaryCategory","proxy","flatMap","values","a","selectCategory","preventDefault","stopPropagation","childCategory","onItemSelected","Component","EquippedItems","textContent","classList","add","remove","slider","baseColorValue","mixColorValue","rtImg","opacity","ltColor","rtColor","itemId","canvasLt","canvasRt","listLt","window","getComputedStyle","getPropertyValue","listRt","contains","unselected","selected","ColorPicked","silceId","slice","num","colorChage","str","replace","setAttribute","s","substr","backgroundImage","equippedItems","Hair","resettingValues","silceIdFr","silceIdEd","sliderValue","newopacity","skinId","chgColor","min","max","changeZoom","chgEyeColor","removeItem","onRemoveItem","onUpdateItem","visible","undefined","onRemoveItems","newHue","hue","newContrast","contrast","newBrightness","brightness","newAlpha","alpha","newSaturation","saturation","newISlot","islot","newVSlot","vslot","updateItemHue","handle","updateItemContrast","step","updateItemBrightness","updateItemSaturation","updateItemAlpha","updateItemISlot","updateItemVSlot","toggleVisibility","Handle","createSliderWithTooltip","Slider","Range","dragging","restProps","prefixCls","overlay","placement","border","CharacterEntry","actions","emotions","frames","stand1","stand2","frameDelay","updateCharacterDetails","prevProps","find","property","isSync","itemEntries","selectedItems","emotion","tryCount","Object","itemEntry","Number","version","region","animationName","backgroundColor","JSON","parse","bgColorText","rgb","r","g","b","itemEntriesPayload","stringify","skin","encodeURIComponent","link","action","animating","frame","mercEars","illiumEars","highFloraEars","zoom","encodeURI","flipX","includeBackground","linkUsed","details","isSelected","canvasMode","otherProps","onUpdateCharacter","onDeleteCharacter","itemEntriesT","newHair","backgroundColorT","bgColorTextT","itemEntriesPayloadT","linkT","html","customizeCharacter","delay","position","interactive","theme","distance","arrow","changeName","expression","disabled","Face","changeEmotion","changeAction","changeSkin","changeIlliumEars","changeHighFloraEars","changeMercEars","animate","changeAnimating","addBgToGif","changeIncludeBackground","flipHorizontal","toggleFlipX","href","imageSaveLocal","deleteCharacter","imgOpcy","mergeImages","b64","blob","imgData","atob","split","len","buf","ArrayBuffer","view","Uint8Array","charCodeAt","Blob","navigator","msSaveOrOpenBlob","createElement","download","body","appendChild","click","setTimeout","removeChild","fhSnap","confirm","deleteCharacterConfirm","onClone","payload","url","URL","createObjectURL","revokeObjectURL","locked","petLoader","petResp","uniqPets","uniqBy","pets","petId","PetEntry","response","sortBy","petsLoaded","onUpdatePet","onDeletePet","customizePet","summary","transform","deletePet","petType","changePetId","animation","changeFrame","footholdSnapping","toggleFHSnap","lock","toggleLock","CharacterList","renderables","selectedIndex","clickCharacter","onCloneCharacter","renderAddList","display","onImportCharacter","multiple","onAddCharacter","onAddPet","onOpenImportCharacter","importCharacter","currentTarget","onUpdateSelectedCharacter","GenericCanvasElement","renderable","onUpdateRenderablePosition","onStart","onStop","imgLink","onDrag","draggable","onError","showError","touchAction","CharacterCanvasElement","styling","crossorigin","renderFootholds","RenderCanvas","childDragCount","selectedRenderable","isNaN","round","mapId","mapData","focusRenderable","vrBounds","stateChanges","mapOrigin","styleOptions","backgroundPositionX","backgroundPositionY","o","deltaX","childDragging","dragCount","clickCanvas","mapLoadingError","viewBox","footholds","fh","x1","x2","y1","y2","strokeWidth","stroke","getRenderableElement","childStopDragging","onClickRenderable","handleRenderableElementMovement","cursorX","cursorY","alignedFootholds","isVertical","isWithin","yAtX","abs","difference","snapFoothold","onUpdateRenderable","NotificationManager","warning","en","maplestory","design","understand","quickView","removeAll","prototype","unofficialNotice","properties","downloadSpriteSheet","willDownloadZip","downloadLayeredSpriteSheet","requiresPDNPlugin","belt","earring","powerSource","totem","testArmor","other","android","dragonEquipment","mechanicalHeart","mechanicEquipment","petEquipment","bits","shovel","pickaxe","skillEffect","petUse","scepter","testWeapon","secondaryWeapon","ballast","magicMarble","spellbook","arrowFletching","powderKeg","farSight","card","ironChain","bowThimble","jewel","magicArrow","charm","orb","rosary","daggerScabbard","wristBand","arrowhead","jettSCore","novaSEssence","soulRing","magnum","kodachi","whistle","jettFists","mass","foxMarble","coreController","charges","chessPiece","transmitter","wings","katana","fan","kr","downloadMinimalSpriteSheet","monster","crusaderCodex","monsterBattle","consumable","potion","foodAndDrink","statusCure","petFood","transformation","eXPPotion","characterModification","timeSaver","equipmentBox","teleportItem","eXPBuff","appearance","armorScroll","helmet","eye","topwear","bottomwear","gloves","shoulder","equipment","weaponScroll","oneHandedBW","twoHandedBW","polearm","zero","specialScroll","cleanSlateScroll","slotCarver","bonusPotentialScroll","chaosScroll","equipEnhancement","potentialScroll","awakeningStamp","innocenceScroll","fusionAnvil","whiteScroll","hammer","magnifyingGlass","timeExtension","luckyDayScroll","protectionScroll","safetyScroll","guardianScroll","equipmentChange","soulWeapon","miracleCube","trade","masteryBook","aPSPReset","monsterTaming","circulator","dust","tablet","projectile","thrown","crossbowBolt","bullet","monsterFamiliar","monsterCard","familiarSkill","familiarCard","recipe","smithingRecipe","accessoryCraftingRecipe","alchemyRecipe","synergyMachine","megaphone","summoningSack","message","lieDetector","wedding","owl","capsule","itemPot","monsterDrop","questItem","cosmetic","minigame","petCommand","book","effect","coin","container","eXPTicket","eventItem","cashShop","rewardItem","potentialLock","fusion","coupon","crafting","mineralOre","mineralProcessed","rareOre","rareProcessedOre","craftingItem","herb","herbOil","maker","extractor","decoration","commerci","tradeGood","shipEnhancement","evolutionLab","core","mission","nebulite","rankDNebulite","rankCNebulite","rankBNebulite","rankANebulite","rankSNebulite","teleportRock","package","itemStore","questHelper","randomReward","specialItem","gachapon","surpriseBox","exchangeCoupon","equipmentModification","scroll","upgradeSlot","sPAPModification","protection","eXPCoupon","dropCoupon","entryPass","inventorySlot","eXPCoupons","skillModification","weapon","hairCoupon","hairColorCoupon","faceCoupon","cosmeticLens","skinCoupon","ear","facialExpression","special","petAppearance","freeMarket","hiredMerchant","storePermit","auctionHouse","messengerAndSocial","weatherEffect","messenger","kite","note","song","characterEffect","guildForumEmoticon","messageboard","miscellaneous","cakeVsPie","language","playMusic","gender","mql","matchMedia","startsWith","throttledErrorNotification","throttle","error","leading","versions","GMS","MapleVersionId","IsReady","KMS","TMS","CMS","JMS","SEA","wzPromise","WZs","wzEntry","isReady","findIndex","ver","mapleVersionId","location","reload","maps","mapsFilter","mapPromise","label","streetName","join","createFilterOptions","options","App","isOpen","isModalOpen","characters","selectedMap","mapPosition","colorPickerOpen","music","sidebarDocked","matches","sidebarOpen","sidebarRDocked","sidebarROpen","isEmpty","currentCharacter","push","getNewCharacter","forEach","Date","now","characterItems","toCamel","newO","origKey","newKey","Array","hasOwnProperty","charAt","constructor","keyBy","otherCharacters","allCharacters","addEventListener","handleClick","mapsLoaded","mediaQueryChanged","onSetSidebarOpen","onSetRightSidebarOpen","changEvent","addListener","removeListener","open","element","found","Localize","sidebar","userSelectedItem","docked","onSetOpen","styles","zIndex","boxShadow","content","userRemovedItem","updateItem","userRemovedItems","pullRight","shadow","updateRenderable","userUpdateSelectedRenderable","addCharacter","addPet","removeCharacter","cloneCharacter","removePet","userUpdateCharacter","userUpdatePet","autoPlay","loop","openColorPicker","color","onChangeColor","changeLanguage","filterOptions","isLoading","searchable","clearable","simpleValue","selectMap","maxHeight","menuList","menu","changeRegionVersion","versionName","toggleMusic","exportAllCharacters","newZoom","newProps","getNewPet","andysFavePetIds","random","importAll","call","files","file","rej","lastIndexOf","reader","FileReader","onload","ev","result","readAsText","warn","indexOfCharacter","splice","newCharacterIndex","callback","petIndex","currentPet","characterIndex","updateItems","updateSelectedRenderable","event","generateAvatarLink","linkType","host","isOnDomain","isOnHttps","protocol","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.044f794a.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './index.css'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport {\n  CellMeasurer,\n  CellMeasurerCache,\n  createMasonryCellPositioner,\n  Masonry,\n  AutoSizer\n} from 'react-virtualized';\n\n// Black list for individual sub categories\nconst blacklistSubcategories = [\n  \"Monster Battle\",\n  \"Skill Effect\",\n  \"Pet Use\",\n  \"Test Armor\",\n  \"Test Weapon\",\n  \"Shovel\",\n  \"Pickaxe\",\n  \"Totem\"\n]\n\n// White list for categories\nconst applicableCategories = {\n  character: ['Character', 'Armor', 'Accessory', 'Mount', 'One-Handed Weapon', 'Two-Handed Weapon'],\n  pet: ['Other']\n}\n\n// White list for individual sub categories\nconst applicableSubcategories = { pet: ['Pet Equipment'] }\n\nlet cellMeasurerCache = null\n\nconst region = !localStorage['region'] ? 'KMS' : localStorage['region']\nconst version = !localStorage['version'] ? '328' : localStorage['version']\n\nconst itemListPromise = axios.get(`https://maplestory.io/api/KMS/328/item/category/equip`);\nconst chairListPromise = axios.get(`https://maplestory.io/api/KMS/328/item/category/setup`);\n\nclass ItemListing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      categories: {},\n      categoryNames: {},\n      selectedCategory: null,\n      search: '',\n      gutterSize: 6,\n      columnWidth: 32,\n      categoryNameSelected: '',\n      selectedGender: '',\n      cashItemsOnly: false,\n      similarItems: null\n    }\n\n    this._cache = cellMeasurerCache = new CellMeasurerCache({\n      defaultHeight: 32,\n      defaultWidth: 32,\n      fixedWidth: true,\n      fixedHeight: true\n    });\n\n    Promise.all([itemListPromise, chairListPromise]).then(responses => {\n      if(!_.every(responses, res => res.status === 200)) return;\n      const setupData = responses[1].data\n      const chairData = setupData.filter(item => Math.floor(item.id / 10000) === 301).map(chair => {\n        chair.typeInfo.category = \"Character\" // That way it shows up as part of the character section\n        return chair\n      })\n      const itemData = (responses[0].data || []) || []\n      const groupedHair = _.map(\n        _.groupBy(\n          itemData.filter(item => item.id >= 30000 && item.id <= 60000),\n          item => Math.floor(item.id / 10)\n        ), itemGrouping => {\n          const firstItem = itemGrouping[0]\n          firstItem.similar = itemGrouping\n          return firstItem\n        }\n      )\n      const groupedFaces = _.map(\n        _.groupBy(\n          itemData.filter(item => item.id >= 10000 && item.id < 30000),\n          item => (item.id % 100) + (item.id - (item.id % 1000))\n        ), itemGrouping => {\n          const firstItem = itemGrouping[0]\n          firstItem.similar = itemGrouping\n          return firstItem\n        }\n      )\n      const categories = _.mapValues(\n        _.groupBy(\n          itemData\n            .filter(item => item.id < 10000 || item.id > 50000)\n            .concat(groupedHair)\n            .concat(groupedFaces)\n            .concat(chairData),\n          item => item.typeInfo.category),\n        items => _.groupBy(items, item => item.typeInfo.subCategory)\n      );\n\n      const categoryNames = _.mapValues(categories, _.keys);\n      const categoryNamesKeys = _.keys(categoryNames).filter((categoryName) => categoryName != 'Character');\n      categoryNamesKeys.unshift('Character');\n\n      this.setState({\n        items: itemData,\n        categories,\n        categoryNames,\n        categoryNamesKeys\n      })\n    })\n  }\n\n  render() {\n    const { categoryNames, categoryNamesKeys, selectedCategory, items, categoryNameSelected, cashItemsOnly, selectedGender, similarItems } = this.state\n    const search = this.state.search.toLowerCase()\n    const { localized } = this.props\n\n    if (search) console.log(`Searching for ${search}`)\n\n    const selectedType = this.props.target.type || 'character'\n    const applicableItems = (items || []).filter(item => {\n      return applicableCategories[selectedType].indexOf(item.typeInfo.category) !== -1 && blacklistSubcategories.indexOf(item.typeInfo.subCategory) === -1 && (!applicableSubcategories[selectedType] || applicableSubcategories[selectedType].indexOf(item.typeInfo.subCategory) !== -1)\n    })\n\n    this.showIcons = !search ? (selectedCategory || applicableItems) : applicableItems.filter((item, i) => {\n      return (item.name || '').toLowerCase().indexOf(search) !== -1 ||\n        item.id.toString().toLowerCase().indexOf(search) !== -1 ||\n        (item.desc || '').toLowerCase().indexOf(search) !== -1\n    })\n\n    if (cashItemsOnly)\n      this.showIcons = this.showIcons.filter(item => item.isCash)\n\n    if (selectedGender)\n      this.showIcons = this.showIcons.filter(c => c.requiredGender == selectedGender);\n\n    this.showIcons = this.showIcons.filter(item => item && item.id)\n\n    return (\n      <div className='item-listing'>\n        <div className='item-listing-header'>\n          <input type=\"search\" value={search} onChange={this.search.bind(this)} placeholder=\"Search..\" className=\"item-search\"/>\n\n        </div>\n        <div className='filters'>\n          <label>\n            <input type=\"checkbox\" onChange={this.toggleCashItems.bind(this)} checked={this.cashItemsOnly} />\n            {localized.isCashFilter}\n          </label>\n          <select onChange={this.changeGender.bind(this)} value={this.selectedGender} className=\"gender-select\">\n            <option value=\"\">{localized.genderFilter}</option>\n            <option value=\"0\">{localized.male}</option>\n            <option value=\"1\">{localized.female}</option>\n            <option value=\"2\">{localized.universal}</option>\n          </select>\n        </div>\n        <div className='item-listing-content'>\n          <div className='item-listing-categories'>\n          <ul>\n          {\n            _.map((categoryNamesKeys || []).filter(categoryName => applicableCategories[selectedType].indexOf(categoryName) !== -1), category => {\n              const subCategories = categoryNames[category];\n              return (<li key={category} onClick={this.selectPrimaryCategory.bind(this, category)}>\n              <span className={'category' + (category === categoryNameSelected ? ' active' : '')}>\n              {\n                (category === \"Character\")\n                ? (<span>{localized.charactor}</span>)\n                : (<span></span>)\n              }\n              {\n                (category === \"Armor\")\n                ? (<span>{localized.armor}</span>)\n                : (<span></span>)\n              }\n              {\n                (category === \"Accessory\")\n                ? (<span>{localized.accessory}</span>)\n                : (<span></span>)\n              }\n              {\n                (category === \"Mount\")\n                ? (<span>{localized.mount}</span>)\n                : (<span></span>)\n              }\n              {\n                (category === \"One-Handed Weapon\")\n                ? (<span>{localized.oneHandedWeapon}</span>)\n                : (<span></span>)\n              }\n              {\n                (category === \"Two-Handed Weapon\")\n                ? (<span>{localized.twoHandedWeapon}</span>)\n                : (<span></span>)\n              }\n              </span>\n              <ul>\n                {\n                  subCategories.filter(categoryName => blacklistSubcategories.indexOf(categoryName) === -1 && (!applicableSubcategories[selectedType] || applicableSubcategories[selectedType].indexOf(categoryName) !== -1)).map(subCategory => <li\n                    key={subCategory}\n                    className={subCategory === categoryNameSelected ? 'active' : ''}\n                    onClick={this.selectChildCategory.bind(this, category, subCategory)}>\n                    {\n                      (subCategory === \"Hair\")\n                      ? (<span>{localized.hair}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Face\")\n                      ? (<span>{localized.face}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Chair\")\n                      ? (<span>{localized.chair}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Face Accessory\")\n                      ? (<span>{localized.faceAccessory}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Eye Decoration\")\n                      ? (<span>{localized.eyeDecoration}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Earrings\")\n                      ? (<span>{localized.earrings}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Pendant\")\n                      ? (<span>{localized.pendant}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Belt\")\n                      ? (<span>{localized.belts}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Medal\")\n                      ? (<span>{localized.medal}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Shoulder Accessory\")\n                      ? (<span>{localized.shoulderAccessory}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Pocket Item\")\n                      ? (<span>{localized.pocketItem}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Badge\")\n                      ? (<span>{localized.badge}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Emblem\")\n                      ? (<span>{localized.emblem}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Ring\")\n                      ? (<span>{localized.ring}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Hat\")\n                      ? (<span>{localized.hat}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Cape\")\n                      ? (<span>{localized.cape}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Top\")\n                      ? (<span>{localized.top}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Glove\")\n                      ? (<span>{localized.glove}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Overall\")\n                      ? (<span>{localized.overall}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Bottom\")\n                      ? (<span>{localized.bottom}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Shield\")\n                      ? (<span>{localized.shield}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Shoes\")\n                      ? (<span>{localized.shoes}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Mount\")\n                      ? (<span>{localized.mount}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Shining Rod\")\n                      ? (<span>{localized.shiningRod}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Soul Shooter\")\n                      ? (<span>{localized.soulShooter}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Desperado\")\n                      ? (<span>{localized.desperado}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Whip Blade\")\n                      ? (<span>{localized.whipBlade}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Psy-limiter\")\n                      ? (<span>{localized.psyLimiter}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Chain\")\n                      ? (<span>{localized.chain}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Gauntlet\")\n                      ? (<span>{localized.gauntlet}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"One-Handed Sword\")\n                      ? (<span>{localized.oneHandedSword}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"One-Handed Axe\")\n                      ? (<span>{localized.oneHandedAxe}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"One-Handed Blunt Weapon\")\n                      ? (<span>{localized.oneHandedBluntWeapon}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Dagger\")\n                      ? (<span>{localized.dagger}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Katara\")\n                      ? (<span>{localized.katara}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Cane\")\n                      ? (<span>{localized.cane}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Wand\")\n                      ? (<span>{localized.wand}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Staff\")\n                      ? (<span>{localized.staff}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Cash\")\n                      ? (<span>{localized.cash}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Two-Handed Sword\")\n                      ? (<span>{localized.twoHandedSword}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Two-Handed Axe\")\n                      ? (<span>{localized.twoHandedAxe}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Two-Handed Blunt\")\n                      ? (<span>{localized.twoHandedBlunt}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Spear\")\n                      ? (<span>{localized.spear}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Pole Arm\")\n                      ? (<span>{localized.poleArm}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Bow\")\n                      ? (<span>{localized.bow}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Crossbow\")\n                      ? (<span>{localized.crossbow}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Claw\")\n                      ? (<span>{localized.claw}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Knuckle\")\n                      ? (<span>{localized.knuckle}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Gun\")\n                      ? (<span>{localized.gun}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Dual Bowgun\")\n                      ? (<span>{localized.dualBowgun}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Hand Cannon\")\n                      ? (<span>{localized.handCannon}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Lapis\")\n                      ? (<span>{localized.lapis}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Lazuli\")\n                      ? (<span>{localized.lazuli}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Arm Cannon\")\n                      ? (<span>{localized.armCannon}</span>)\n                      : (<span></span>)\n                    }\n                    {\n                      (subCategory === \"Ancient Bow\")\n                      ? (<span>{localized.ancientBow}</span>)\n                      : (<span></span>)\n                    }\n                    </li>)\n                }\n              </ul></li>)\n            })\n          }\n          </ul>\n          </div>\n          <div className='item-listing-icons'>\n          \n            { this._renderAutoSizer({ height: 32 }) }\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  onSimilarScroll(e) {\n    var masonry = document.getElementsByClassName(\"ReactVirtualized__Masonry\")[0]\n    masonry.scrollTop += e.deltaY\n    this.mouseOutSimilar()\n  }\n\n  mouseOutSimilar() {\n    this.setState({ similarItems: null })\n  }\n\n  toggleCashItems (e) {\n    this.setState({ cashItemsOnly: e.target.checked })\n  }\n\n  changeGender (e) {\n    this.setState({ selectedGender: e.target.value })\n  }\n\n  _renderAutoSizer ({ height }) {\n    this._height = height || 32\n\n    return (\n      <AutoSizer\n        onResize={this._onResize.bind(this)}\n      >\n        {this._renderMasonry.bind(this)}\n      </AutoSizer>\n    )\n  }\n\n  _renderMasonry({ height, width }) {\n    this._width = width\n    this._height = height\n\n    this._calculateColumnCount()\n    this._initCellPositioner()\n\n    return <Masonry\n      cellCount={this.showIcons.length - 1}\n      cellMeasurerCache={cellMeasurerCache}\n      cellPositioner={this._cellPositioner}\n      cellRenderer={this.cellRenderer.bind(this)}\n      ref={this._setMasonryRef.bind(this)}\n      width={width}\n      height={this._height}\n      />\n  }\n\n  _calculateColumnCount () {\n    const {\n      columnWidth,\n      gutterSize\n    } = this.state\n\n    this._columnCount = Math.floor(this._width / (columnWidth + gutterSize))\n  }\n\n  _initCellPositioner () {\n    if (typeof this._cellPositioner === 'undefined') {\n      const {\n        columnWidth,\n        gutterSize\n      } = this.state\n\n      this._cellPositioner = createMasonryCellPositioner({\n        cellMeasurerCache: this._cache,\n        columnCount: this._columnCount,\n        columnWidth,\n        spacer: gutterSize\n      })\n    }\n  }\n\n  _onResize ({ height, width }) {\n    this._width = width\n\n    this._columnHeights = {}\n    this._calculateColumnCount()\n    this._resetCellPositioner()\n    this._masonry.recomputeCellPositions()\n  }\n\n  _resetCellPositioner () {\n    const {\n      columnWidth,\n      gutterSize\n    } = this.state\n\n    this._cellPositioner.reset({\n      columnCount: this._columnCount,\n      columnWidth,\n      spacer: gutterSize\n    })\n  }\n\n  _setMasonryRef (ref) {\n    this._masonry = ref\n  }\n\n  cellRenderer ({ index, key, parent, style }) {\n    const item = this.showIcons[index]\n    const { showSimilarTo } = this.state\n\n    if (!item) return\n\n    return (\n      <CellMeasurer\n        cache={cellMeasurerCache}\n        index={index}\n        key={item.id}\n        parent={parent}\n      >\n        <div className=\"item-img-container\" style={{\n          ...style,\n          width: 32,\n          height: 32\n        }}>\n          { this.itemIcon(item, this.state.search) }\n        </div>\n      </CellMeasurer>\n    )\n  }\n\n  containedItemIcon(item, hideSimilar) {\n    return (\n      <div\n        onWheel={!hideSimilar ? this.onSimilarScroll.bind(this) : false}\n        >\n        { this.itemIcon(item, hideSimilar) }\n      </div>\n    )\n  }\n\n  itemIcon(item, hideSimilar) {\n    return (<img\n      src={`https://maplestory.io/api/KMS/328/item/${item.id}/icon`}\n      onClick={this.selectItem.bind(this, item)}\n      alt={item.name}\n      title={item.name}\n      id={item.id}\n      key={item.id}\n      onMouseOver={!hideSimilar && item.similar ? this.showSimilar.bind(this, item) : false} />)\n  }\n\n  showSimilar(item) {\n    const iconImg = document.getElementById(item.id).parentElement\n    const masonryContainer = document.getElementsByClassName(\"ReactVirtualized__Masonry\")[0]\n    this.setState({\n      similarItems: {\n        item,\n        x: iconImg.offsetLeft + masonryContainer.offsetLeft,\n        y: iconImg.offsetTop + masonryContainer.offsetTop - iconImg.parentElement.parentElement.scrollTop\n      }\n    })\n  }\n\n  search(e) {\n    this.setState({\n      search: e.target.value\n    })\n  }\n\n  selectPrimaryCategory(primaryCategory, proxy, e) {\n    const selectedCategory = _.flatMap(_.values(this.state.categories[primaryCategory], a => a))\n    this.selectCategory(selectedCategory, primaryCategory)\n    proxy.preventDefault()\n    proxy.stopPropagation()\n  }\n\n  selectChildCategory(primaryCategory, childCategory, proxy, e) {\n    const selectedCategory = this.state.categories[primaryCategory][childCategory]\n    this.selectCategory(selectedCategory, childCategory)\n    proxy.preventDefault()\n    proxy.stopPropagation()\n  }\n\n  selectCategory(selectedCategory, categoryNameSelected) {\n    console.log(`Selected category: ${categoryNameSelected}`)\n    this.setState({\n      selectedCategory,\n      categoryNameSelected,\n      search: ''\n    })\n  }\n\n  selectItem(item){\n    this.props.onItemSelected(item)\n  }\n}\n\nexport default ItemListing\n","import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\n\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\nimport { Tooltip } from 'react-tippy'\nimport Toggle from 'react-toggle'\nimport textContent from 'react-addons-text-content'\n\nclass EquippedItems extends Component {\n  constructor(props) {\n    super(props)\n  }\n  selected(item){\n\n    item.textContent = \"\";\n    item.classList.add(\"select\");\n  }\n\n  unselected(item){\n    item.textContent = \"\";\n    item.classList.remove(\"select\");\n  }\n\n  resettingValues(){\n    const slider = document.getElementById(\"slider\");\n    const baseColorValue = document.getElementById(\"baseColorValue\");\n    const mixColorValue = document.getElementById(\"mixColorValue\");\n    const rtImg = document.getElementById(\"rightImage\");\n\n    slider.value = 50;\n    mixColorValue.textContent = \"50%\";\n    baseColorValue.textContent = \"50%\";\n    rtImg.style.opacity = \".5\";\n  }\n\n  chgColor(e){\n    const ltColor = document.getElementsByClassName(\"lt\");\n    const rtColor = document.getElementsByClassName(\"rt\");\n    const itemId = document.getElementById(\"itemId\").value;\n    const rtImg = document.getElementById(\"rightImage\");\n    const ltImg = document.getElementById(\"leftImage\");\n    /*RenderCanvas*/\n    const canvasLt = document.getElementById(\"leftImg\").src;\n    const canvasRt = document.getElementById(\"rightImg\").src;\n\n    /*CharacterList*/\n    const listLt = window.getComputedStyle(document.getElementById(\"listImgLt\")).getPropertyValue('background-image');\n    const listRt = window.getComputedStyle(document.getElementById(\"listImgRt\")).getPropertyValue('background-image');\n\n    for(let i=0; i<8; i++){\n      if(ltColor[i].classList.contains(\"select\") && ltColor[i] != e.target && e.target.classList.contains(\"lt\")){\n        this.unselected(ltColor[i]);\n      }\n      if(rtColor[i].classList.contains(\"select\") && rtColor[i] != e.target && e.target.classList.contains(\"rt\")){\n        this.unselected(rtColor[i]);\n      }\n    };\n\n\n\n    if(e.target.classList.contains(\"select\")) {\n      console.log(\"selected already\");\n      this.unselected(e.target);\n    }else{\n      this.selected(e.target);\n      var ColorPicked = e.target.classList[1];\n      var silceId = itemId.slice(0,-1);\n      var num = \"\";\n      if(e.target.classList.contains(\"rt\")){\n        if(ColorPicked == \"black\"){\n          num = \"0\";\n        }else if(ColorPicked == \"red\"){\n          num = \"1\";\n        }else if(ColorPicked == \"orange\"){\n          num = \"2\";\n        }else if(ColorPicked == \"yellow\"){\n          num = \"3\";\n        }else if(ColorPicked == \"grin\"){\n          num = \"4\";\n        }else if(ColorPicked == \"blue\"){\n          num = \"5\";\n        }else if(ColorPicked == \"purple\"){\n          num = \"6\";\n        }else if(ColorPicked == \"brown\"){\n          num = \"7\";\n        }\n\n        this.props.colorChage(silceId+num)\n\n        /*RenderCanvas*/\n        if(canvasRt.indexOf(itemId) != -1){\n          const str = canvasRt.replace(itemId, silceId+num);\n          document.getElementById(\"rightImg\").setAttribute('crossOrigin', 'Anonymous');\n          document.getElementById(\"rightImg\").src = str;\n          document.getElementById(\"rtLinkRl\").value = str;\n        }else{\n          if(canvasRt.indexOf(silceId) != -1){\n            const s = canvasRt.substr(0, canvasRt.indexOf(silceId)+4) + num + canvasRt.substr(canvasRt.indexOf(silceId)+4+num.length);\n            document.getElementById(\"rightImg\").setAttribute('crossOrigin', 'Anonymous');\n            document.getElementById(\"rightImg\").src = s;\n            document.getElementById(\"rtLinkRl\").value = s;\n          }\n        }\n\n        /*CharacterList*/\n        if(listRt.indexOf(itemId) != -1){\n          const str = listRt.replace(itemId, silceId+num);\n          document.getElementById(\"listImgRt\").style.backgroundImage = str;\n        }else{\n          if(listRt.indexOf(silceId) != -1){\n            const s = listRt.substr(0, listRt.indexOf(silceId)+4) + num + listRt.substr(listRt.indexOf(silceId)+4+num.length);\n            document.getElementById(\"listImgRt\").style.backgroundImage = s;\n          }\n        }\n\n      }else{\n        if(ColorPicked == \"black\"){\n          num = \"0\";\n        }else if(ColorPicked == \"red\"){\n          num = \"1\";\n        }else if(ColorPicked == \"orange\"){\n          num = \"2\";\n        }else if(ColorPicked == \"yellow\"){\n          num = \"3\";\n        }else if(ColorPicked == \"grin\"){\n          num = \"4\";\n        }else if(ColorPicked == \"blue\"){\n          num = \"5\";\n        }else if(ColorPicked == \"purple\"){\n          num = \"6\";\n        }else if(ColorPicked == \"brown\"){\n          num = \"7\";\n        }\n\n        this.props.equippedItems.Hair.id = silceId+num;\n\n        /*RenderCanvas*/\n        if(canvasLt.indexOf(itemId) != -1){\n          const str = canvasLt.replace(itemId, silceId+num);\n          document.getElementById(\"leftImg\").setAttribute('crossOrigin', 'Anonymous');\n          document.getElementById(\"leftImg\").src = str;\n        }else{\n          if(canvasLt.indexOf(silceId) != -1){\n            const s = canvasLt.substr(0, canvasLt.indexOf(silceId)+4) + num + canvasLt.substr(canvasLt.indexOf(silceId)+4+num.length);\n            document.getElementById(\"leftImg\").setAttribute('crossOrigin', 'Anonymous');\n            document.getElementById(\"leftImg\").src = s;\n          }\n        }\n\n        /*CharacterList*/\n        if(listLt.indexOf(itemId) != -1){\n          const str = listLt.replace(itemId, silceId+num);\n          document.getElementById(\"listImgLt\").style.backgroundImage = str;\n        }else{\n          if(listLt.indexOf(silceId) != -1){\n            const s = listLt.substr(0, listLt.indexOf(silceId)+4) + num + listLt.substr(listLt.indexOf(silceId)+4+num.length);\n            document.getElementById(\"listImgLt\").style.backgroundImage = s;\n          }\n        }\n      }\n      this.resettingValues.bind();\n    }\n  }\n\n  chgEyeColor(e){\n    const ltColor = document.getElementsByClassName(\"lte\");\n    const rtColor = document.getElementsByClassName(\"rte\");\n    const itemId = document.getElementById(\"itemIde\").value;\n\n    /*RenderCanvas*/\n    const canvasLt = document.getElementById(\"leftImg\").src;\n    const canvasRt = document.getElementById(\"rightImg\").src;\n\n    /*CharacterList*/\n    const listLt = window.getComputedStyle(document.getElementById(\"listImgLt\")).getPropertyValue('background-image');\n    const listRt = window.getComputedStyle(document.getElementById(\"listImgRt\")).getPropertyValue('background-image');\n\n    for(let i=0; i<8; i++){\n      if(ltColor[i].classList.contains(\"select\") && ltColor[i] != e.target && e.target.classList.contains(\"lte\")){\n        this.unselected(ltColor[i]);\n      }\n      if(rtColor[i].classList.contains(\"select\") && rtColor[i] != e.target && e.target.classList.contains(\"rte\")){\n        this.unselected(rtColor[i]);\n      }\n    };\n\n    if(e.target.classList.contains(\"select\")) {\n      console.log(\"selected already\");\n      this.unselected(e.target);\n    }else{\n      this.selected(e.target);\n      var ColorPicked = e.target.classList[1];\n      var silceIdFr = itemId.slice(0,2);\n      var silceIdEd = itemId.slice(3,5);\n      var num = \"\";\n      if(e.target.classList.contains(\"rte\")){\n        if(ColorPicked == \"black\"){\n          num = \"0\";\n        }else if(ColorPicked == \"blue\"){\n          num = \"1\";\n        }else if(ColorPicked == \"red\"){\n          num = \"2\";\n        }else if(ColorPicked == \"grin\"){\n          num = \"3\";\n        }else if(ColorPicked == \"brown\"){\n          num = \"4\";\n        }else if(ColorPicked == \"emerald\"){\n          num = \"5\";\n        }else if(ColorPicked == \"purple\"){\n          num = \"6\";\n        }else if(ColorPicked == \"amethyst\"){\n          num = \"7\";\n        }\n\n        /*RenderCanvas*/\n        if(canvasRt.indexOf(itemId) != -1){\n          const str = canvasRt.replace(itemId, silceIdFr+num+silceIdEd);\n          document.getElementById(\"rightImg\").setAttribute('crossOrigin', 'Anonymous');\n          document.getElementById(\"rightImg\").src = str;\n        }else{\n          if(canvasRt.indexOf(silceIdFr) != -1 && canvasRt.indexOf(silceIdEd) != -1){\n            const s = canvasRt.substr(0, canvasRt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17) + num + canvasRt.substr(canvasRt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17+num.length);\n            document.getElementById(\"rightImg\").setAttribute('crossOrigin', 'Anonymous');\n            document.getElementById(\"rightImg\").src = s;\n          }\n        }\n\n        /*CharacterList*/\n        if(listRt.indexOf(itemId) != -1){\n          const str = listRt.replace(itemId, silceIdFr+num+silceIdEd);\n          document.getElementById(\"listImgRt\").style.backgroundImage = str;\n        }else{\n          if(listRt.indexOf(silceIdFr) != -1 && listRt.indexOf(silceIdEd) != -1){\n            const s = listRt.substr(0, listRt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17) + num + listRt.substr(listRt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17+num.length);\n            document.getElementById(\"listImgRt\").style.backgroundImage = s;\n          }\n        }\n      }else{\n        if(ColorPicked == \"black\"){\n          num = \"0\";\n        }else if(ColorPicked == \"blue\"){\n          num = \"1\";\n        }else if(ColorPicked == \"red\"){\n          num = \"2\";\n        }else if(ColorPicked == \"grin\"){\n          num = \"3\";\n        }else if(ColorPicked == \"brown\"){\n          num = \"4\";\n        }else if(ColorPicked == \"emerald\"){\n          num = \"5\";\n        }else if(ColorPicked == \"purple\"){\n          num = \"6\";\n        }else if(ColorPicked == \"amethyst\"){\n          num = \"7\";\n        }\n\n        /*RenderCanvas*/\n        if(canvasLt.indexOf(itemId) != -1){\n          const str = canvasLt.replace(itemId, silceIdFr+num+silceIdEd);\n          document.getElementById(\"leftImg\").setAttribute('crossOrigin', 'Anonymous');\n          document.getElementById(\"leftImg\").src = str;\n        }else{\n          if(canvasLt.indexOf(silceIdFr) != -1 && canvasLt.indexOf(silceIdEd) != -1){\n            const s = canvasLt.substr(0, canvasLt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17) + num + canvasLt.substr(canvasLt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17+num.length);\n            document.getElementById(\"leftImg\").setAttribute('crossOrigin', 'Anonymous');\n            document.getElementById(\"leftImg\").src = s;\n          }\n        }\n\n        /*CharacterList*/\n        if(listLt.indexOf(itemId) != -1){\n          const str = listLt.replace(itemId, silceIdFr+num+silceIdEd);\n          document.getElementById(\"listImgLt\").style.backgroundImage = str;\n        }else{\n          if(listLt.indexOf(silceIdFr) != -1 && listLt.indexOf(silceIdEd) != -1){\n            const s = listLt.substr(0, listLt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17) + num + listLt.substr(listLt.indexOf(\"%22itemId%22%3A\"+silceIdFr)+17+num.length);\n            document.getElementById(\"listImgLt\").style.backgroundImage = s;\n          }\n        }\n      }\n      this.resettingValues.bind();\n\n    }\n  }\n\n  changeZoom(e){\n    const baseColorValue = document.getElementById(\"baseColorValue\");\n    const mixColorValue = document.getElementById(\"mixColorValue\");\n    const rtImg = document.getElementById(\"rightImage\");\n    var sliderValue = e.target.value;\n\n    document.getElementById(\"slider\").value = e.target.value;\n    mixColorValue.textContent = (100-sliderValue) + \"%\";\n    baseColorValue.textContent = sliderValue + \"%\";\n    var newopacity = (100-sliderValue)/100; // opacity [0.0-1.0]=\n    rtImg.style.opacity = newopacity;\n    document.getElementById(\"rightImg\").style.opacity = newopacity;\n    document.getElementById(\"listImgRt\").style.opacity = newopacity;\n  }\n\n  render() {\n    const { equippedItems, localized, name, skinId, ...otherProps } = this.props\n\n    const isGMSRegion = localStorage['region'].toLowerCase() == 'kms'\n    const hasName = name && name.length > 0\n    const ltColor = document.getElementsByClassName(\"lt\")\n    const rtColor = document.getElementsByClassName(\"rt\")\n    const ltList = ltColor[0]\n    const ltImg = document.getElementById(\"leftImage\")\n    const rtList = rtColor[1]\n    const rtImg = document.getElementById(\"rightImage\")\n\n    return (\n      <div className='equipped-items'>\n        <div className='equipped-items-listing'>\n          {\n            _.map(equippedItems, item => {\n              return (\n                <div className='equipped-items-item'>\n                  <img src={`https://maplestory.io/api/KMS/328/item/${item.id}/icon`} alt={item.name} id=\"leftImage\"/>\n                  <img src={`https://maplestory.io/api/KMS/328/item/${item.id}/icon`} alt={item.name} id=\"rightImage\"/>\n                  <div className='equipped-items-item-meta'>\n                    <div className='equipped-items-item-meta-name'>{item.name}</div>\n                    <div className='equipped-items-item-meta-category'>{item.typeInfo.subCategory}</div>\n                    {\n                      (item.typeInfo.subCategory === \"Hair\")\n                      ? (<div className='equipped-items-item-meta-color'>\n                      <input type=\"hidden\" id=\"itemId\" value={item.id}/>\n                          <div className='equipped-items-item-meta-colors'>\n                            <button className='lt black' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt red' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt orange' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt yellow' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt grin' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt blue' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt purple' onClick={this.chgColor.bind(this)}></button>\n                            <button className='lt brown' onClick={this.chgColor.bind(this)}></button>\n                          </div>\n                          <div className='equipped-items-item-meta-colors'>\n                            <button className='rt black' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt red' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt orange' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt yellow' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt grin' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt blue' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt purple' onClick={this.chgColor.bind(this)}></button>\n                            <button className='rt brown' onClick={this.chgColor.bind(this)}></button>\n                          </div>\n                          <input type=\"range\" min=\"0\" max=\"100\" id=\"slider\" onChange={this.changeZoom.bind(this)}/>\n                          <div className=\"values\">\n                            <span id=\"baseColorValue\">50%</span>\n                            <span id=\"mixColorValue\">50%</span>\n                          </div>\n                        </div>)\n                      : (<div className='equipped-items-item-meta'></div>)\n                    }\n                    {\n                      (item.typeInfo.subCategory === \"Face\")\n                      ? (<div className='equipped-items-item-meta-color'>\n                      <input type=\"hidden\" id=\"itemIde\" value={item.id}/>\n                          <div className='equipped-items-item-meta-colors'>\n                            <button className='lte black' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte blue' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte red' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte grin' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte brown' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte emerald' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte purple' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='lte amethyst' onClick={this.chgEyeColor.bind(this)}></button>\n                          </div>\n                          <div className='equipped-items-item-meta-colors'>\n                            <button className='rte black' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte blue' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte red' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte grin' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte brown' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte emerald' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte purple' onClick={this.chgEyeColor.bind(this)}></button>\n                            <button className='rte amethyst' onClick={this.chgEyeColor.bind(this)}></button>\n                          </div>\n                        </div>)\n                      : (<div className='equipped-items-item-meta'></div>)\n                    }\n                  </div>\n                  <span onClick={this.removeItem.bind(this, item)} className=\"btn bg-red text-white right\"><i className=\"fa fa-times\"></i></span>\n                </div>\n            )})\n          }\n        </div>\n      </div>\n    )\n  }\n\n  removeItem(item) {\n    this.props.onRemoveItem(item);\n  }\n\n  toggleVisibility(item) {\n    this.props.onUpdateItem(item, { visible: !(item.visible === undefined ? true : item.visible) })\n  }\n\n  removeItems() {\n    this.props.onRemoveItems();\n  }\n\n  updateItemHue(item, newHue) {\n    if (newHue.target) newHue = newHue.target.value\n    this.props.onUpdateItem(item, {hue: newHue});\n  }\n\n  updateItemContrast(item, newContrast) {\n    if(newContrast.target) newContrast = newContrast.target.value\n    this.props.onUpdateItem(item, {contrast: newContrast})\n  }\n\n  updateItemBrightness(item, newBrightness) {\n    if(newBrightness.target) newBrightness = newBrightness.target.value\n    this.props.onUpdateItem(item, {brightness: newBrightness})\n  }\n\n  updateItemAlpha(item, newAlpha) {\n    if(newAlpha.target) newAlpha = newAlpha.target.value\n    this.props.onUpdateItem(item, {alpha: newAlpha})\n  }\n\n  updateItemSaturation(item, newSaturation) {\n    if(newSaturation.target) newSaturation = newSaturation.target.value\n    this.props.onUpdateItem(item, {saturation: newSaturation})\n  }\n\n  updateItemISlot(item, newISlot) {\n    if(newISlot.target) newISlot = newISlot.target.value\n    this.props.onUpdateItem(item, {islot: newISlot})\n  }\n\n  updateItemVSlot(item, newVSlot) {\n    if(newVSlot.target) newVSlot = newVSlot.target.value\n    this.props.onUpdateItem(item, {vslot: newVSlot})\n  }\n\n  customizeItem(item) {\n    return (<div className='customizing-item'>\n      <span>\n        <span className='flex'>Hue<input type='number' className='hue-picker-value' value={item.hue || 0} onChange={this.updateItemHue.bind(this, item)} /></span>\n        <Slider\n          className='hue-picker'\n          value={item.hue || 0}\n          min={0}\n          max={360}\n          handle={handle}\n          onChange={this.updateItemHue.bind(this, item)} />\n      </span>\n      <span>\n        <span className='flex'>Contrast<input type='number' className='contrast-picker-value' value={item.contrast === undefined ? 1 : item.contrast} onChange={this.updateItemContrast.bind(this, item)} /></span>\n        <Slider\n          className='contrast-picker'\n          value={item.contrast === undefined ? 1 : item.contrast}\n          min={0}\n          step={0.1}\n          max={10}\n          handle={handle}\n          onChange={this.updateItemContrast.bind(this, item)} />\n      </span>\n      <span>\n        <span className='flex'>Brightness<input type='number' className='brightness-picker-value' value={item.brightness === undefined ? 1 : item.brightness} onChange={this.updateItemBrightness.bind(this, item)} /></span>\n        <Slider\n          className='brightness-picker'\n          value={item.brightness === undefined ? 1 : item.brightness}\n          min={0}\n          step={0.1}\n          max={10}\n          handle={handle}\n          onChange={this.updateItemBrightness.bind(this, item)} />\n      </span>\n      <span>\n        <span className='flex'>Saturation<input type='number' className='saturation-picker-value' value={item.saturation === undefined ? 1 : item.saturation} onChange={this.updateItemSaturation.bind(this, item)} /></span>\n        <Slider\n          className='saturation-picker'\n          value={item.saturation === undefined ? 1 : item.saturation}\n          min={0}\n          step={0.1}\n          max={10}\n          handle={handle}\n          onChange={this.updateItemSaturation.bind(this, item)} />\n      </span>\n      <span>\n        <span className='flex'>Alpha<input type='number' className='alpha-picker-value' value={item.alpha === undefined ? 1 : item.alpha} onChange={this.updateItemAlpha.bind(this, item)} /></span>\n        <Slider\n          className='alpha-picker'\n          value={item.alpha === undefined ? 1 : item.alpha}\n          min={0}\n          step={0.1}\n          max={1}\n          handle={handle}\n          onChange={this.updateItemAlpha.bind(this, item)} />\n      </span>\n      <span>\n        <span className='flex item-property'>\n          ISlot\n          <input\n            className='item-islot'\n            value={item.islot}\n            onChange={this.updateItemISlot.bind(this, item)} />\n        </span>\n      </span>\n      <span>\n        <span className='flex item-property'>\n          VSlot\n          <input\n            className='item-vslot'\n            value={item.vslot}\n            onChange={this.updateItemVSlot.bind(this, item)} />\n        </span>\n      </span>\n      <label>\n        <span>Visible</span>\n        <Toggle onChange={this.toggleVisibility.bind(this, item)} checked={item.visible === undefined ? true: item.visible} />\n      </label>\n    </div>);\n  }\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <RcTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      style={{border: \"solid 2px hsl(\"+value+\", 53%, 53%)\"}}\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </RcTooltip>\n  );\n};\n\nexport default EquippedItems\n","import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\nimport Toggle from 'react-toggle'\nimport { Tooltip } from 'react-tippy'\nimport axios from 'axios'\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\nimport mergeImages from 'merge-images';\n\nclass CharacterEntry extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      actions: ['stand1', 'stand2'],\n      emotions: [\n        'angry',\n        'bewildered',\n        'blaze',\n        'blink',\n        'bowing',\n        'cheers',\n        'chu',\n        'cry',\n        'dam',\n        'default',\n        'despair',\n        'glitter',\n        'hit',\n        'hot',\n        'hum',\n        'love',\n        'oops',\n        'pain',\n        'qBlue',\n        'shine',\n        'smile',\n        'stunned',\n        'troubled',\n        'vomit',\n        'wink'\n      ],\n      frames: { stand1: 3, stand2: 3 },\n      frameDelay: 1000\n    }\n\n    this.updateCharacterDetails(props, true)\n  }\n\n  componentDidUpdate(prevProps) {\n    const ifChanged = ['skin', 'selectedItems', 'action', 'frame', 'mercEars', 'illiumEars', 'zoom', 'flipX']\n    if (_.find(ifChanged, (property) => this.props.character[property] != prevProps.character[property])){\n      this.updateCharacterDetails(this.props, false)\n    }\n  }\n\n  updateCharacterDetails(props, isSync) {\n    const { character } = props\n    const itemsWithEmotion = _.values(character.selectedItems)\n    .filter(item => item.id && (item.visible === undefined || item.visible))\n    .map(item => {\n      var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${character.emotion}` : item.id\n      return itemEntry\n    });\n\n    const { tryCount } = this.state\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"328\",\n        region: \"KMS\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\" },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n\n    if (isSync) {\n      this.state.linkUsed = link\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this))\n    } else this.setState({ linkUsed: link }, () => {\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this))\n    })\n  }\n\n  render() {\n    const { character, isSelected, canvasMode, onUpdateCharacter, onDeleteCharacter, ...otherProps } = this.props\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"328\",\n        region: \"KMS\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\"  },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\" }\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n\n    /*IMG 2*/\n        let itemEntriesT = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n          let itemEntry = {\n            itemId: Number(item.id),\n            version: \"328\",\n            region: \"KMS\"\n          }\n\n          if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n          if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n          if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n          if (item.hue) itemEntry.hue = item.hue\n          if (item.saturation != 1) itemEntry.saturation = item.saturation\n          if (item.contrast != 1) itemEntry.contrast = item.contrast\n          if (item.brightness != 1) itemEntry.brightness = item.brightness\n          if (item.alpha != 1) itemEntry.alpha = item.alpha\n          if (item.islot) itemEntry.islot = item.islot\n          if (item.vslot) itemEntry.vslot = item.vslot\n          if ((item.id >= 30000 && item.id < 49999) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.itemId = character.newHair\n\n          return itemEntry\n        })\n\n        let backgroundColorT = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n        const bgColorTextT = `${backgroundColorT.rgb.r},${backgroundColorT.rgb.g},${backgroundColorT.rgb.b},${backgroundColorT.rgb.a}`\n\n        let itemEntriesPayloadT = JSON.stringify([\n          ...itemEntriesT,\n          { itemId: Number(character.skin), version: \"210.1.1\" },\n          { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n        ])\n        itemEntriesPayloadT = encodeURIComponent(itemEntriesPayloadT.substr(1, itemEntriesPayloadT.length - 2))\n\n        const linkT = `https://maplestory.io/api/Character/${itemEntriesPayloadT}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorTextT}` : '')\n\n    /*//--IMG 2*/\n\n    return (\n      <Tooltip html={this.customizeCharacter(character)} delay={[100, 300]} position={canvasMode ? undefined : 'bottom'} interactive={true} theme='light' distance={400} arrow={true}>\n        <div\n          className={'character ' + (character.visible ? 'disabled ' : 'enabled ') + (isSelected ? 'active' : 'inactive')}\n          style={{\n            backgroundImage: 'url('+link+')'\n          }}\n          id=\"listImgLt\"\n          {...otherProps}>&nbsp;</div>\n          <div\n            className={'character ' + (character.visible ? 'disabled ' : 'enabled ') + (isSelected ? 'active' : 'inactive')}\n            style={{\n              backgroundImage: 'url('+linkT+')'\n            }}\n            id=\"listImgRt\"\n            {...otherProps}>&nbsp;</div>\n      </Tooltip>\n    )\n  }\n\n  customizeCharacter(character) {\n    const { localized } = this.props\n    const { actions, frames, emotions } = this.state\n    const isGMSRegion = localStorage['region'].toLowerCase() == 'kms'\n    const hasName = character.name && character.name.length > 0\n    return (<div className='character-customizeable-options-container'>\n    <div className='character-customizeable-options'>\n      <label className='name'>\n        <span>{localized.name}</span>\n        <input type='text' value={character.name} onChange={this.changeName.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.expression}</span>\n        <select disabled={!character.selectedItems.Face} onChange={this.changeEmotion.bind(this)} value={character.emotion}>\n          {\n            emotions.map(e => (\n              <option value={e} key={e}>{e}</option>\n            ))\n          }\n        </select>\n      </label>\n      <label>\n        <span>{localized.action}</span>\n        <select onChange={this.changeAction.bind(this)} value={character.action}>\n        <option value=\"stand1\">Standing (1-Handed)</option>\n        <option value=\"stand2\">Standing (2-Handed)</option>\n        <option value=\"walk1\">Walking (1-Handed)</option>\n        <option value=\"walk2\">Walking (2-Handed)</option>\n        <option value=\"alert\">Alert</option>\n        <option value=\"fly\">Flying</option>\n        <option value=\"heal\">Healing</option>\n        <option value=\"jump\">Jumping</option>\n        <option value=\"ladder\">Ladder</option>\n        <option value=\"rope\">Rope</option>\n        <option value=\"prone\">Prone</option>\n        <option value=\"proneStab\">Prone + Stab</option>\n        <option value=\"shoot1\">Shoot (1-Handed)</option>\n        <option value=\"shoot2\">Shoot (2-Handed)</option>\n        <option value=\"shootF\">Shoot (0F)</option>\n        <option value=\"sit\">Sitting</option>\n        <option value=\"stabO1\">Stab (01)</option>\n        <option value=\"stabO2\">Stab (02)</option>\n        <option value=\"stabOF\">Stab (0F)</option>\n        <option value=\"stabT1\">Stab (T1)</option>\n        <option value=\"stabT2\">Stab (T2)</option>\n        <option value=\"stabTF\">Stab (TF)</option>\n        <option value=\"swingO1\">Swing (01)</option>\n        <option value=\"swingO2\">Swing (02)</option>\n        <option value=\"swingO3\">Swing (03)</option>\n        <option value=\"swingOF\">Swing (0F)</option>\n        <option value=\"swingP1\">Swing (P1)</option>\n        <option value=\"swingP2\">Swing (P2)</option>\n        <option value=\"swingPF\">Swing (PF)</option>\n        <option value=\"swingT1\">Swing (T1)</option>\n        <option value=\"swingT2\">Swing (T2)</option>\n        <option value=\"swingT3\">Swing (T3)</option>\n        <option value=\"swingTF\">Swing (TF)</option>\n        </select>\n      </label>\n      <label>\n        <span>{localized.skin}</span>\n        <select onChange={this.changeSkin.bind(this)} value={character.skin}>\n            <option value='2000'> </option>\n            <option value='2004'> </option>\n            <option value='2010'> </option>\n            <option value='2001'> </option>\n            <option value='2003'> </option>\n            <option value='2009'> </option>\n            <option value='2013'> </option>\n            <option value='2002'> </option>\n            <option value='2011'> </option>\n            <option value='2012'> </option>\n            <option value='2015'>  </option>\n            <option value='2016'>  </option>\n          </select>\n      </label>\n      <label>\n        <span>{localized.visible}</span>\n        <Toggle onChange={this.toggleVisibility.bind(this)} checked={character.visible} />\n      </label>\n      <label className=\"section-title\">\n        <span> </span>\n      </label>\n      <label>\n        <span>{localized.illiumEars}</span>\n        <Toggle\n          onChange={this.changeIlliumEars.bind(this)}\n          checked={character.illiumEars} />\n      </label>\n      <label>\n        <span>{localized.highFloraEars}</span>\n        <Toggle\n          onChange={this.changeHighFloraEars.bind(this)}\n          checked={character.highFloraEars} />\n      </label>\n      <label>\n        <span>{localized.mercEars}</span>\n        <Toggle\n          onChange={this.changeMercEars.bind(this)}\n          checked={character.mercEars} />\n      </label>\n      <label className=\"section-title\">\n        <span> </span>\n      </label>\n      <label>\n        <span>{localized.animate}</span>\n        <Toggle\n          onChange={this.changeAnimating.bind(this)}\n          checked={character.animating} />\n      </label>\n      <label>\n        <span>{localized.addBgToGif}</span>\n        <Toggle\n          onChange={this.changeIncludeBackground.bind(this)}\n          checked={character.includeBackground} />\n      </label>\n      <label>\n        <span>{localized.flipHorizontal}</span>\n        <Toggle onChange={this.toggleFlipX.bind(this)} checked={character.flipX} />\n      </label>\n      <br />\n      <div className=\"margin-btn-new\">\n        <a href=\"#\" className='btn btn-large bg-blue text-white right' onClick={this.imageSaveLocal.bind(this)}> </a>\n        <img src=\"\" id=\"bsImg\" />\n      </div>\n    </div>\n\n    <div className=\"margin-top-10\">\n      <a href=\"#\" className='btn btn-large bg-red text-white right' onClick={this.deleteCharacter.bind(this)}>{localized.deleteCharacter}</a>\n    </div>\n    </div>)\n  }\n\n  imageSaveLocal(){\n    const canvasLt = document.getElementById(\"leftImg\").src;\n    const canvasRt = document.getElementById(\"rightImg\").src;\n    const imgOpcy = window.getComputedStyle(document.getElementById(\"rightImg\")).getPropertyValue('opacity');\n    const imageSrc = \"\";\n\n    mergeImages([\n      { src: canvasLt },\n      { src: canvasRt, opacity: imgOpcy }\n    ]).then(b64 => {\n      var img = document.getElementById(\"bsImg\")\n      var imgData = atob(b64.split(\",\")[1])\n      var len = imgData.length\n      var buf = new ArrayBuffer(len) //    .\n      var view = new Uint8Array(buf) //  8bit Unsigned Int .\n      var blob, i\n\n      for (i = 0; i < len; i++) {\n        view[i] = imgData.charCodeAt(i) & 0xff //    msb .\n      }\n      // Blob  image/png  . (application/octet-stream )\n      blob = new Blob([view], { type: \"application/octet-stream\" })\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        window.navigator.msSaveOrOpenBlob(blob, \"new_file_name.png\")\n      } else {\n        //var url = URL.createObjectURL(blob);\n        var a = document.createElement(\"a\")\n        a.style = \"display: none\"\n        //a.href = url;\n        a.href = b64\n        a.download = \"new_file_name.png\"\n        document.body.appendChild(a)\n        a.click()\n\n        setTimeout(function() {\n          document.body.removeChild(a)\n          //URL.revokeObjectURL(url);\n        }, 100)\n      }\n\n    });\n\n  }\n\n  changeIncludeBackground() {\n    this.props.onUpdateCharacter(this.props.character, { includeBackground: !this.props.character.includeBackground })\n  }\n\n  changeAnimating() {\n    this.props.onUpdateCharacter(this.props.character, { animating: !this.props.character.animating })\n  }\n\n  changeName(e) {\n    this.props.onUpdateCharacter(this.props.character, { name: e.target.value })\n  }\n\n  toggleFHSnap(e) {\n    this.props.onUpdateCharacter(this.props.character, { fhSnap: !this.props.character.fhSnap })\n  }\n\n  toggleFlipX(e) {\n    this.props.onUpdateCharacter(this.props.character, { flipX: !this.props.character.flipX })\n  }\n\n  deleteCharacter() {\n    const { localized } = this.props;\n    const confirmation = window.confirm(localized.deleteCharacterConfirm);\n\n    if(confirmation) {\n      this.props.onDeleteCharacter(this.props.character)\n    }\n  }\n\n  onClone() {\n    this.props.onClone(this.props.character)\n  }\n\n  onExport() {\n    const a = document.createElement('a')\n    a.style = 'display: none;'\n    document.body.appendChild(a)\n\n    const payload = JSON.stringify(this.props.character, null, 2),\n      blob = new Blob([payload], {type: 'octet/stream'}),\n      url = window.URL.createObjectURL(blob)\n    a.href = url\n    if (this.props.character.name)\n      a.download = this.props.character.name + '-data.json'\n    else\n      a.download = 'character-data.json'\n    a.click()\n\n    window.URL.revokeObjectURL(url)\n    a.remove()\n  }\n\n  changeSkin(e) {\n    this.props.onUpdateCharacter(this.props.character, {skin: e.target.value})\n  }\n\n  changeEmotion(e) {\n    this.props.onUpdateCharacter(this.props.character, {emotion: e.target.value})\n  }\n\n  changeAction (e) {\n    this.props.onUpdateCharacter(this.props.character, { action: e.target.value })\n  }\n\n  changeMercEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { mercEars: e.target.checked });\n  }\n\n  changeHighFloraEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { highFloraEars: e.target.checked });\n  }\n\n  changeIlliumEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { illiumEars: e.target.checked });\n  }\n\n  changeZoom(e) {\n    this.props.onUpdateCharacter(this.props.character, { zoom: e });\n  }\n\n  changeFrame(e) {\n    this.props.onUpdateCharacter(this.props.character, { frame: e });\n  }\n\n  toggleVisibility(e) {\n    this.props.onUpdateCharacter(this.props.character, { visible: !this.props.character.visible })\n  }\n\n  toggleLock(e) {\n    this.props.onUpdateCharacter(this.props.character, { locked: !this.props.character.locked })\n  }\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <RcTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      style={{border: \"solid 2px hsl(\"+value+\", 53%, 53%)\"}}\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </RcTooltip>\n  );\n};\n\nexport default CharacterEntry\n","import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\nimport Toggle from 'react-toggle'\nimport { Tooltip } from 'react-tippy'\nimport axios from 'axios'\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\n\nconst petLoader = axios.get(`https://maplestory.io/api/KMS/328/pet`)\n  .then(petResp =>\n    {\n      let uniqPets = _.uniqBy(petResp.data, pet => pet.key)\n      pets = uniqPets.map(pet => {\n        return {\n          petId: pet.key,\n          name: pet.value\n        }\n      })\n    }) // For some reason the standard [].map doesn't work here. :(\n\nlet pets = []\n\nclass PetEntry extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      actions: ['stand1', 'stand0']\n    }\n\n    // Populate true action list\n    axios.get(`https://maplestory.io/api/KMS/328/pet/actions/${(props.pet || {}).petId || 5000000}`)\n      .then(response => this.setState({actions: _.sortBy(_.keys(response.data), a => a)}))\n    if (pets.length > 0) this.state.petsLoaded = true;\n    else petLoader.then(() => this.setState({ petsLoaded: true }))\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.pet && this.props.pet && prevProps.pet.petId == this.props.pet.petId) return\n    const { pet: { petId } } = this.props\n\n    axios.get(`https://maplestory.io/api/KMS/328/pet/actions/${petId || 5000000}`)\n      .then(response => this.setState({actions: _.sortBy(_.keys(response.data), a => a)}))\n  }\n\n  render() {\n    const { pet, isSelected, canvasMode, onUpdatePet, onDeletePet, ...otherProps } = this.props\n    return (\n      <Tooltip html={this.customizePet(pet)} delay={[100, 300]} position={canvasMode ? undefined : 'bottom'} interactive={true} theme='light' distance={295} arrow={true}>\n        <div\n          className={'pet ' + (pet.visible ? 'disabled ' : 'enabled ') + (isSelected ? 'active' : 'inactive')}\n          style={{\n            backgroundImage: 'url('+pet.summary+')',\n            transform: pet.flipX ? 'scaleX(-1)' : ''\n          }}\n          {...otherProps}>&nbsp;</div>\n      </Tooltip>\n    )\n  }\n\n  customizePet(pet) {\n    const { localized } = this.props\n    return (<div className='pet-customizeable-options'>\n      <div>\n        <a href=\"#\" className='btn bg-red text-white right' onClick={this.deletePet.bind(this)}>{localized.deletePet}</a>\n      </div>\n      <label>\n        <span>{localized.petType}</span>\n        <select onChange={this.changePetId.bind(this)} value={pet.petId}>\n          {\n            pets.map(a => (\n              <option value={a.petId} key={'petSelect' + a.petId}>{a.name}</option>\n            ))\n          }\n        </select>\n      </label>\n      <label>\n        <span>{localized.action}</span>\n        <select onChange={this.changeAction.bind(this)} value={pet.animation}>\n          {\n            this.state.actions.map(a => (\n              <option value={a} key={a}>{a}</option>\n            ))\n          }\n        </select>\n      </label>\n      <label>\n        <span>{localized.frame}</span>\n        <Slider\n          value={pet.frame || 0}\n          min={0}\n          max={10}\n          handle={handle}\n          onChange={this.changeFrame.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.zoom}</span>\n        <Slider\n          value={pet.zoom || 1}\n          min={1}\n          max={10}\n          handle={handle}\n          onChange={this.changeZoom.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.visible}</span>\n        <Toggle onChange={this.toggleVisibility.bind(this)} checked={pet.visible} />\n      </label>\n      <label>\n        <span>{localized.flipHorizontal}</span>\n        <Toggle onChange={this.toggleFlipX.bind(this)} checked={pet.flipX} />\n      </label>\n      <label>\n        <span>{localized.footholdSnapping}</span>\n        <Toggle onChange={this.toggleFHSnap.bind(this)} checked={pet.fhSnap || false} />\n      </label>\n      <label>\n        <span>{localized.lock}</span>\n        <Toggle onChange={this.toggleLock.bind(this)} checked={pet.locked} />\n      </label>\n    </div>)\n  }\n\n  toggleFHSnap(e) {\n    this.props.onUpdatePet(this.props.pet, { fhSnap: !this.props.pet.fhSnap })\n  }\n\n  toggleFlipX(e) {\n    this.props.onUpdatePet(this.props.pet, { flipX: !this.props.pet.flipX })\n  }\n\n  deletePet() {\n    this.props.onDeletePet(this.props.pet)\n  }\n\n  changePetId (e) {\n    this.props.onUpdatePet(this.props.pet, { petId: e.target.value })\n  }\n\n  changeAction (e) {\n    this.props.onUpdatePet(this.props.pet, { animation: e.target.value })\n  }\n\n  changeFrame(e) {\n    this.props.onUpdatePet(this.props.pet, { frame: e });\n  }\n\n  changeZoom(e) {\n    this.props.onUpdatePet(this.props.pet, { zoom: e });\n  }\n\n  toggleVisibility(e) {\n    this.props.onUpdatePet(this.props.pet, { visible: !this.props.pet.visible })\n  }\n\n  toggleLock(e) {\n    this.props.onUpdatePet(this.props.pet, { locked: !this.props.pet.locked })\n  }\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <RcTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      style={{border: \"solid 2px hsl(\"+value+\", 53%, 53%)\"}}\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </RcTooltip>\n  );\n};\n\nexport default PetEntry\n","import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\nimport Toggle from 'react-toggle'\nimport { Tooltip } from 'react-tippy'\nimport CharacterEntry from './CharacterEntry'\nimport PetEntry from './PetEntry'\n\nclass CharacterList extends Component {\n  render() {\n    const { renderables, selectedIndex, localized } = this.props\n    return (\n      <div className='character-list'>\n        <div>\n          {renderables.map((c, i) => {\n            if (c.type === undefined || c.type == 'character') {\n              return (<CharacterEntry\n                character={c}\n                isSelected={i == selectedIndex}\n                onClick={this.clickCharacter.bind(this, c)}\n                onUpdateCharacter={this.props.onUpdateCharacter}\n                key={'character' + i}\n                localized={localized}\n                onClone={this.props.onCloneCharacter}\n                onDeleteCharacter={this.props.onDeleteCharacter} />)\n            } else if (c.type == 'pet') {\n              return (<PetEntry\n                  pet={c}\n                  isSelected={i == selectedIndex}\n                  key={'pet' + i}\n                  localized={localized}\n                  onClick={this.clickCharacter.bind(this, c)}\n                  onUpdatePet={this.props.onUpdatePet}\n                  onDeletePet={this.props.onDeletePet}\n                />);\n            }\n          })}\n          <Tooltip html={this.renderAddList()} position='top' theme='light' title=\"Create a new..\" interactive={true}>\n            <div className='add'><span>+</span>\n          </div></Tooltip>\n          <input type='file' id='importFile' style={{display: 'none'}} onChange={this.props.onImportCharacter.bind(this)} multiple />\n        </div>\n      </div>\n    )\n  }\n\n  renderAddList() {\n    return (<ul className='add-possible'>\n      <li className='add-title'>Create a new..</li>\n      <li className='clickable' onClick={this.props.onAddCharacter}>{this.props.localized.character}</li>\n      <li className='clickable' onClick={this.props.onAddPet}>{this.props.localized.pet}</li>\n      <li className='clickable bold' onClick={this.onOpenImportCharacter}>{this.props.localized.importCharacter}</li>\n    </ul>);\n  }\n\n  onOpenImportCharacter() {\n    document.getElementById('importFile').click()\n  }\n\n  clickCharacter(character, e) {\n    if (e.target == e.currentTarget)\n      this.props.onUpdateSelectedCharacter(character)\n  }\n}\n\nexport default CharacterList\n","import React, { Component } from 'react'\nimport './index.css'\nimport Draggable, { DraggableCore } from 'react-draggable'\nimport { NotificationManager } from 'react-notifications'\n\nclass GenericCanvasElement extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      tryCount: 0\n    }\n  }\n  render() {\n    const { renderable, onUpdateRenderablePosition, summary, onStart, onStop, onClick, selected } = this.props\n    const { tryCount } = this.state\n    let imgLink = summary\n    if (summary.indexOf('?') !== -1) imgLink = summary + `&tryCount=${tryCount}`\n    else imgLink = summary + `?tryCount=${tryCount}`\n    return (\n      <DraggableCore\n        onStart={onStart}\n        onStop={onStop}\n        onDrag={onUpdateRenderablePosition}\n        position={renderable.position}\n        >\n        <div className={'flex' + (selected ? ' selected-canvas-element' : '')} style={{ transform: `translate(${renderable.position.x}px, ${renderable.position.y}px) translate(-50%, -100%)` }}>\n          <img\n            src={imgLink}\n            alt=''\n            className='renderable-instance'\n            draggable={false}\n            onClick={onClick}\n            onError={this.showError.bind(this)}\n            style={{\n              position: 'relative',\n              touchAction: 'none',\n              transform: renderable.flipX ? 'scaleX(-1)' : ''\n            }}\n            />\n        </div>\n        </DraggableCore>\n    )\n  }\n\n  showError() {\n    setTimeout(function () {\n      if (this.state.tryCount < 10) {\n        setTimeout(function () {\n          this.setState({ tryCount: this.state.tryCount + 1 })\n        }.bind(this), 2500)\n      }\n    }.bind(this), 7500)\n  }\n}\n\nexport default GenericCanvasElement\n","import React, { Component } from 'react'\nimport './index.css'\nimport Draggable, { DraggableCore } from 'react-draggable'\nimport { NotificationManager } from 'react-notifications'\nimport axios from 'axios'\nimport _ from 'lodash'\n\nconst region = !localStorage['region'] ? 'KMS' : localStorage['region']\nconst version = !localStorage['version'] ? '328' : localStorage['version']\n\nclass CharacterCanvasElement extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      tryCount: 0\n    }\n\n    this.updateCharacterDetails(props, true)\n  }\n\n  componentDidUpdate(prevProps) {\n    const ifChanged = ['skin', 'selectedItems', 'action', 'frame', 'mercEars', 'illiumEars', 'zoom', 'flipX']\n    if (_.find(ifChanged, (property) => this.props.character[property] != prevProps.character[property])){\n      this.updateCharacterDetails(this.props, false)\n    }\n  }\n\n  updateCharacterDetails(props, isSync) {\n    const { character } = props\n    const itemsWithEmotion = _.values(character.selectedItems)\n    .filter(item => item.id && (item.visible === undefined || item.visible))\n    .map(item => {\n      var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${character.emotion}` : item.id\n      return itemEntry\n    });\n\n    const { tryCount } = this.state\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"328\",\n        region: \"KMS\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\"},\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n\n    if (isSync) {\n      this.state.linkUsed = link\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this), this.showError.bind(this))\n    } else this.setState({ linkUsed: link }, () => {\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this), this.showError.bind(this))\n    })\n  }\n\n  render() {\n    const { character, onUpdateRenderablePosition, onStart, onStop, onClick, selected } = this.props\n    const { zoom } = character\n    const { details } = this.state\n    const styling = {\n      transform: `translate(${character.position.x}px, ${character.position.y}px) translate(${details ? -0 : 0}px, ${details ? -0 : 0}px)`\n    }\n\n    const imgStyle = {\n      position: 'relative',\n      touchAction: 'none'\n    }\n\n/*IMG 1*/\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"328\",\n        region: \"KMS\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\" },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n/*//--IMG 1*/\n\n/*IMG 2*/\n    let itemEntriesT = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"328\",\n        region: \"KMS\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'kms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != '328') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n      if ((item.id >= 30000 && item.id < 49999) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.itemId = character.newHair\n\n      return itemEntry\n    })\n\n    let backgroundColorT = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorTextT = `${backgroundColorT.rgb.r},${backgroundColorT.rgb.g},${backgroundColorT.rgb.b},${backgroundColorT.rgb.a}`\n\n    let itemEntriesPayloadT = JSON.stringify([\n      ...itemEntriesT,\n      { itemId: Number(character.skin), version: \"210.1.1\" },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n    ])\n    itemEntriesPayloadT = encodeURIComponent(itemEntriesPayloadT.substr(1, itemEntriesPayloadT.length - 2))\n\n    const linkT = `https://maplestory.io/api/Character/${itemEntriesPayloadT}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorTextT}` : '')\n\n/*//--IMG 2*/\n\n    return (\n      <DraggableCore\n        onStart={onStart}\n        onStop={onStop}\n        onDrag={onUpdateRenderablePosition}\n        position={character.position}\n        >\n        <div className={selected ? 'selected-canvas-element' : ''} style={styling}>\n         {\n            details ? (<div><img\n              src={link}\n              alt=''\n              className='renderable-instance'\n              draggable={false}\n              onClick={onClick}\n              onError={this.showError.bind(this)}\n              style={imgStyle}\n              id='leftImg'\n              crossorigin='anonymous'/>\n              <img\n                src={linkT}\n                alt=''\n                draggable={false}\n                onClick={onClick}\n                onError={this.showError.bind(this)}\n                id='rightImg'\n                crossorigin='anonymous'/>\n              </div>\n            ) : <div className='loading-character'>&nbsp;</div>\n         }\n        </div>\n        </DraggableCore>\n    )\n  }\n\n  showError() {\n    setTimeout(function () {\n      if (this.state.tryCount < 10) {\n        setTimeout(function () {\n          this.setState({ tryCount: this.state.tryCount + 1 }, () => {\n            this.updateCharacterDetails(this.props)\n          })\n        }.bind(this), 1500)\n      }\n    }.bind(this), 3500)\n  }\n}\n\nexport default CharacterCanvasElement\n","import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\nimport Toggle from 'react-toggle'\nimport { Tooltip } from 'react-tippy'\nimport axios from 'axios'\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\nimport GenericCanvasElement from './GenericCanvasElement'\nimport CharacterCanvasElement from './CharacterCanvasElement'\nimport Draggable, { DraggableCore } from 'react-draggable'\nimport { NotificationManager } from 'react-notifications'\n\nconst renderFootholds = JSON.parse(localStorage['isDebugMode'] || 'false') === true\n\nconst region = !localStorage['region'] ? 'KMS' : localStorage['region']\nconst version = !localStorage['version'] ? '328' : localStorage['version']\n\nclass RenderCanvas extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      x: Number(localStorage['canvasX']) || 0,\n      y: Number(localStorage['canvasX']) || 0,\n      childDragCount: 0\n    }\n\n    if (props.selectedRenderable !== undefined && (Number.isNaN(Number(localStorage['canvasX'])) || Number.isNaN(Number(localStorage['canvasY'])))) {\n      const renderable = props.renderables[props.selectedRenderable]\n      if (renderable){\n        this.state = {\n          ...this.state,\n          x: Math.round(-renderable.position.x),\n          y: Math.round(-renderable.position.y)\n        }\n      }\n    }\n\n    if (props.mapId) {\n      axios.get(`https://maplestory.io/api/KMS/328/map/${props.mapId}`)\n        .then(response => this.setState({mapData: response.data}))\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.focusRenderable !== this.props.focusRenderable){\n      const { focusRenderable, mapId } = this.props\n      const { mapData } = this.state\n\n      const renderable = this.props.renderables[focusRenderable]\n      if (renderable)\n        this.setState({ x: -renderable.position.x + (mapData ? mapData.vrBounds.x : 0), y: -renderable.position.y + (mapData ? mapData.vrBounds.y : 0) })\n    }\n    if (prevProps.mapId != this.props.mapId && this.props.mapId) {\n      axios.get(`https://maplestory.io/api/KMS/328/map/${this.props.mapId}`)\n        .then(response => {\n          let stateChanges = {\n            mapData: response.data\n          };\n\n          if (this.state.mapData === undefined) {\n            const { focusRenderable, mapId } = this.props\n            const { mapData } = stateChanges\n\n            const renderable = this.props.renderables[focusRenderable]\n            if (renderable)\n              stateChanges = {\n                ...stateChanges,\n                x: Math.round(-renderable.position.x + (mapData ? mapData.vrBounds.x : 0)),\n                y: Math.round(-renderable.position.y + (mapData ? mapData.vrBounds.y : 0))\n              }\n\n              localStorage['canvasX'] = stateChanges.x\n              localStorage['canvasY'] = stateChanges.y\n          }\n\n          this.setState(stateChanges)\n        })\n    }\n  }\n\n  render() {\n    const { renderables, mapId, zoom, backgroundColor, localized } = this.props\n    const { mapData } = this.state\n    const mapOrigin = {}\n\n    const styleOptions = { transform: `translate(${this.state.x}px, ${this.state.y}px) translateZ(0)` }\n    if (zoom != 1) styleOptions.transform = styleOptions.transform + ` scale(${zoom})`\n\n    if (mapData) mapOrigin.transform = `translate(${-mapData.vrBounds.x}px, ${-mapData.vrBounds.y}px)`\n\n    return (\n      <div className={'canvas-bg' + (this.state.dragging ? ' dragging' : '')} style={{ backgroundPositionX: `${this.state.x}px`, backgroundPositionY: `${this.state.y}px` }}>\n        <DraggableCore\n          onDrag={(e, o) => {\n            if (!o.deltaX && !o.deltaY) return\n            if(!this.state.childDragging && (e.target.classList.contains('canvas-characters') || e.target.classList.contains('map'))) {\n              let stateChanges = { x: this.state.x + o.deltaX, y: this.state.y + o.deltaY, dragCount: (this.state.dragCount || 0) + 1 }\n              localStorage['canvasX'] = stateChanges.x\n              localStorage['canvasY'] = stateChanges.y\n              this.setState(stateChanges)\n            }\n          }}\n          onStart={(function() { this.setState({ dragging: true, dragCount: 0 }); console.log('dragging') }).bind(this)}\n          onStop={(function() { this.setState({ dragging: false }); console.log('done') }).bind(this)}\n          >\n          <div className={'canvas-characters' + (this.state.dragging ? ' dragging' : '')} onClick={this.clickCanvas.bind(this)} style={{ backgroundColor }}>\n            <div className={'renderables-container' + (this.state.dragging ? ' dragging' : '')} style={styleOptions}>\n            {\n              mapId ? <img className='map' src={`https://maplestory.io/api/KMS/328/map/${mapId}/render`} draggable={false} onClick={this.clickCanvas.bind(this)} onError={this.mapLoadingError} /> : ''\n            }\n            {\n              (mapData && renderFootholds) ? <svg className='map' onClick={this.clickCanvas.bind(this)} width={mapData.vrBounds.width} height={mapData.vrBounds.height} viewBox={`${mapData.vrBounds.x} ${mapData.vrBounds.y} ${mapData.vrBounds.width} ${mapData.vrBounds.height}`}>{\n                ((_.values(mapData.footholds) || []).map((fh, i) =>\n                  <line x1={fh.x1} x2={fh.x2} y1={fh.y1} y2={fh.y2} strokeWidth='2' stroke='black' key={'svg' + i} />\n                ))\n              }</svg> : ''\n            }\n              <div style={mapOrigin} className='character-container'>\n                {\n                  renderables\n                    .filter(renderable => renderable.visible)\n                    .map((renderable, i) => {\n                      return this.getRenderableElement(renderable, i)\n                    })\n                }\n              </div>\n            </div>\n          </div>\n        </DraggableCore>\n      </div>\n    )\n  }\n\n  clickCanvas(e) {\n    console.log(this.state.dragCount, 'click')\n    if (!this.state.dragCount)\n      this.props.onClick(e)\n  }\n\n  getRenderableElement(renderable, index) {\n    const { selectedRenderable } = this.props\n    return renderable.type == 'character' ? (\n    <CharacterCanvasElement\n      onStart={this.childDragging.bind(this)}\n      onStop={this.childStopDragging.bind(this)}\n      onClick={(function (){\n        if (this.state.childDragCount === 0)\n          this.props.onClickRenderable(renderable)\n      }).bind(this)}\n      onUpdateRenderablePosition={this.handleRenderableElementMovement.bind(this, renderable)}\n      character={renderable}\n      selected={selectedRenderable === index}\n      localized={this.props.localized}\n      key={'canvas' + renderable.id} />\n    ) : (\n    <GenericCanvasElement\n      onStart={this.childDragging.bind(this)}\n      onStop={this.childStopDragging.bind(this)}\n      onClick={(function (){\n        if (this.state.childDragCount === 0)\n          this.props.onClickRenderable(renderable)\n      }).bind(this)}\n      onUpdateRenderablePosition={this.handleRenderableElementMovement.bind(this, renderable)}\n      renderable={renderable}\n      summary={renderable.summary}\n      selected={selectedRenderable === index}\n      localized={this.props.localized}\n      key={'canvas' + renderable.id} />\n    )\n  }\n\n  handleRenderableElementMovement(renderable, o,e) {\n    if (!e.deltaX && !e.deltaY) return\n\n    const { zoom } = this.props\n    const { mapData } = this.state\n    const footholds = _.values((mapData || {}).footholds)\n\n    const { deltaX, deltaY } = e\n    const cursorX = e.x, cursorY = e.y\n    this.setState({ childDragCount: this.state.childDragCount + 1 })\n    renderable.position = renderable.position || { x:0, y:0 }\n    if(Number.isNaN(renderable.position.x)) renderable.position.x = 0\n    if(Number.isNaN(renderable.position.y)) renderable.position.y = 0\n    let { x, y } = renderable.position\n    x = Math.round(cursorX / zoom);\n    y = Math.round(cursorY / zoom);\n    if (footholds && renderable.fhSnap) {\n      const validFootholds = footholds.filter(fh => {\n        const isVertical = fh.x1 == fh.x2\n        const isWithin = (fh.x1 < x && fh.x2 > x) || (fh.x2 < x && fh.x1 > x)\n        if (isVertical || !isWithin) return false\n        const { x1, x2, y1, y2 } = fh\n        const yAtX = (x == x1 || x2 == x1 || y2 == y1) ? y1 : (y1 + ((y2 - y1) * ((x - x1) / (x2 - x1))))\n        return Math.abs(yAtX - y) < 50\n      })\n\n      const alignedFootholds = validFootholds.map(fh => {\n        const { x1, x2, y1, y2 } = fh\n        const yAtX = (x == x1 || x2 == x1 || y2 == y1) ? y1 : (y1 + ((y2 - y1) * ((x - x1) / (x2 - x1))))\n        return {\n          ...fh,\n          yAtX,\n          difference: Math.abs(yAtX - y)\n        }\n      })\n\n      const snapFoothold = _.find(alignedFootholds, fh => fh.difference < 50)\n      if (snapFoothold) y = snapFoothold.yAtX\n    }\n    this.props.onUpdateRenderable(renderable, {\n      position: {\n        x,\n        y\n      }\n    })\n  }\n\n  mapLoadingError() {\n    NotificationManager.warning(`There was an error rendering that map`, '', 10000)\n  }\n\n  childDragging() { this.setState({childDragging: true, childDragCount: 0}) }\n  childStopDragging() { this.setState({childDragging: false}) }\n}\n\nexport default RenderCanvas\n","const all = {\n  en: {\n    maplestory: 'MapleStory',\n    design: 'Design',\n    understand: 'I understand',\n    isCashFilter: 'Is Cash',\n    genderFilter: 'Gender Filter',\n    male: 'Male',\n    female: 'Female',\n    quickView: 'Quick View',\n    removeAll: 'Remove All',\n    prototype: 'This project is actively being developed and considered a prototype.',\n    alpha: 'Public Alpha',\n    unofficialNotice: 'The unofficial MapleStory simulator and designer.',\n    properties: 'Properties',\n    expression: 'Facial Expression',\n    action: 'Pose / Action',\n    skin: 'Skin',\n    zoom: 'Zoom',\n    universal: 'Universal',\n    pet: 'Pet',\n    character: 'Character',\n    name: 'Name',\n    illiumEars: 'Flora Ears',\n    highFloraEars: 'High Flora Ears',\n    mercEars: 'Mercedes Ears',\n    frame: 'Frame',\n    animate: 'Animate',\n    addBgToGif: 'Add BG to GIF',\n    visible: 'Visible',\n    flipHorizontal: 'Flip Horizontal',\n    footholdSnapping: 'Foothold Snapping',\n    lock: 'Lock',\n    downloadSpriteSheet: 'Download Spritesheet',\n    willDownloadZip: 'Will download a .zip',\n    downloadLayeredSpriteSheet: 'Download Layered Spritesheet',\n    requiresPDNPlugin: 'Requires PDN Plugin',\n    deleteCharacter: 'Delete Character',\n    deleteCharacterConfirm: 'Are you sure you wish to delete this character?',\n    petType: 'Pet Type',\n    deletePet: 'Delete Pet',\n    accessory: \"Accessory\",\n    badge: \"Badge\",\n    belt: \"Belt\",\n    earrings: \"Earrings\",\n    emblem: \"Emblem\",\n    faceAccessory: \"Face Accessory\",\n    medal: \"Medal\",\n    eyeDecoration: \"Eye Decoration\",\n    earring: \"Earring\",\n    ring: \"Ring\",\n    pendant: \"Pendant\",\n    pocketItem: \"Pocket Item\",\n    powerSource: \"Power Source\",\n    shoulderAccessory: \"Shoulder Accessory\",\n    totem: \"Totem\",\n    armor: \"Armor\",\n    hat: \"Hat\",\n    cape: \"Cape\",\n    top: \"Top\",\n    glove: \"Glove\",\n    overall: \"Overall\",\n    bottom: \"Bottom\",\n    shield: \"Shield\",\n    shoes: \"Shoes\",\n    testArmor: \"Test Armor\",\n    other: \"Other\",\n    android: \"Android\",\n    dragonEquipment: \"Dragon Equipment\",\n    mechanicalHeart: \"Mechanical Heart\",\n    mechanicEquipment: \"Mechanic Equipment\",\n    petEquipment: \"Pet Equipment\",\n    bits: \"Bits\",\n    shovel: \"Shovel\",\n    pickaxe: \"Pickaxe\",\n    skillEffect: \"Skill Effect\",\n    petUse: \"Pet Use\",\n    oneHandedWeapon: \"One-Handed Weapon\",\n    scepter: \"Scepter\",\n    oneHandedAxe: \"One-Handed Axe\",\n    katara: \"Katara\",\n    cane: \"Cane\",\n    dagger: \"Dagger\",\n    desperado: \"Desperado\",\n    whipBlade: \"Whip Blade\",\n    oneHandedBluntWeapon: \"One-Handed Blunt Weapon\",\n    shiningRod: \"Shining Rod\",\n    soulShooter: \"Soul Shooter\",\n    staff: \"Staff\",\n    oneHandedSword: \"One-Handed Sword\",\n    wand: \"Wand\",\n    testWeapon: \"Test Weapon\",\n    cash: \"Cash\",\n    psyLimiter: \"Psy-limiter\",\n    chain: \"Chain\",\n    gauntlet: \"Gauntlet\",\n    secondaryWeapon: \"Secondary Weapon\",\n    ballast: \"Ballast\",\n    magicMarble: \"Magic Marble\",\n    spellbook: \"Spellbook\",\n    arrowFletching: \"Arrow Fletching\",\n    powderKeg: \"Powder Keg\",\n    farSight: \"Far Sight\",\n    card: \"Card\",\n    ironChain: \"Iron Chain\",\n    bowThimble: \"Bow Thimble\",\n    jewel: \"Jewel\",\n    document: \"Document\",\n    magicArrow: \"Magic Arrow\",\n    charm: \"Charm\",\n    orb: \"Orb\",\n    rosary: \"Rosary\",\n    daggerScabbard: \"Dagger Scabbard\",\n    wristBand: \"Wrist Band\",\n    arrowhead: \"Arrowhead\",\n    jettSCore: \"Jett's Core\",\n    novaSEssence: \"Nova's Essence\",\n    soulRing: \"Soul Ring\",\n    magnum: \"Magnum\",\n    kodachi: \"Kodachi\",\n    whistle: \"Whistle\",\n    jettFists: \"Jett Fists\",\n    mass: \"Mass\",\n    foxMarble: \"Fox Marble\",\n    coreController: \"Core Controller\",\n    charges: \"Charges\",\n    chessPiece: \"Chess Piece\",\n    transmitter: \"Transmitter\",\n    wings: \"Wings\",\n    twoHandedWeapon: \"Two-Handed Weapon\",\n    twoHandedAxe: \"Two-Handed Axe\",\n    bow: \"Bow\",\n    crossbow: \"Crossbow\",\n    dualBowgun: \"Dual Bowgun\",\n    gun: \"Gun\",\n    handCannon: \"Hand Cannon\",\n    knuckle: \"Knuckle\",\n    twoHandedBlunt: \"Two-Handed Blunt\",\n    poleArm: \"Pole Arm\",\n    spear: \"Spear\",\n    twoHandedSword: \"Two-Handed Sword\",\n    claw: \"Claw\",\n    katana: \"Katana\",\n    fan: \"Fan\",\n    lapis: \"Lapis\",\n    lazuli: \"Lazuli\",\n    armCannon: \"Arm Cannon\",\n    character: \"Character\",\n    face: \"Face\",\n    hair: \"Hair\",\n    monster: \"Monster\",\n    crusaderCodex: \"Crusader Codex\",\n    monsterBattle: \"Monster Battle\",\n    mount: \"Mount\",\n    consumable: \"Consumable\",\n    potion: \"Potion\",\n    foodAndDrink: \"Food and Drink\",\n    statusCure: \"Status Cure\",\n    petFood: \"Pet Food\",\n    transformation: \"Transformation\",\n    eXPPotion: \"EXP Potion\",\n    characterModification: \"Character Modification\",\n    timeSaver: \"Time Saver\",\n    equipmentBox: \"Equipment Box\",\n    teleportItem: \"Teleport Item\",\n    eXPBuff: \"EXP Buff\",\n    appearance: \"Appearance\",\n    armorScroll: \"Armor Scroll\",\n    helmet: \"Helmet\",\n    eye: \"Eye\",\n    topwear: \"Topwear\",\n    bottomwear: \"Bottomwear\",\n    gloves: \"Gloves\",\n    belts: \"Belts\",\n    shoulder: \"Shoulder\",\n    equipment: \"Equipment\",\n    pet: \"Pet\",\n    weaponScroll: \"Weapon Scroll\",\n    oneHandedBW: \"One-Handed BW\",\n    twoHandedBW: \"Two-Handed BW\",\n    polearm: \"Polearm\",\n    zero: \"Zero\",\n    specialScroll: \"Special Scroll\",\n    cleanSlateScroll: \"Clean Slate Scroll\",\n    slotCarver: \"Slot Carver\",\n    bonusPotentialScroll: \"Bonus Potential Scroll\",\n    chaosScroll: \"Chaos Scroll\",\n    equipEnhancement: \"Equip Enhancement\",\n    potentialScroll: \"Potential Scroll\",\n    awakeningStamp: \"Awakening Stamp\",\n    innocenceScroll: \"Innocence Scroll\",\n    fusionAnvil: \"Fusion Anvil\",\n    whiteScroll: \"White Scroll\",\n    hammer: \"Hammer\",\n    magnifyingGlass: \"Magnifying Glass\",\n    timeExtension: \"Time Extension\",\n    luckyDayScroll: \"Lucky Day Scroll\",\n    protectionScroll: \"Protection Scroll\",\n    safetyScroll: \"Safety Scroll\",\n    guardianScroll: \"Guardian Scroll\",\n    equipmentChange: \"Equipment Change\",\n    soulWeapon: \"Soul Weapon\",\n    miracleCube: \"Miracle Cube\",\n    trade: \"Trade\",\n    masteryBook: \"Mastery Book\",\n    aPSPReset: \"AP/SP Reset\",\n    monsterTaming: \"Monster Taming\",\n    circulator: \"Circulator\",\n    dust: \"Dust\",\n    tablet: \"Tablet\",\n    projectile: \"Projectile\",\n    arrow: \"Arrow\",\n    thrown: \"Thrown\",\n    crossbowBolt: \"Crossbow Bolt\",\n    bullet: \"Bullet\",\n    monsterFamiliar: \"Monster/Familiar\",\n    monsterCard: \"Monster Card\",\n    familiarSkill: \"Familiar Skill\",\n    familiarCard: \"Familiar Card\",\n    recipe: \"Recipe\",\n    smithingRecipe: \"Smithing Recipe\",\n    accessoryCraftingRecipe: \"Accessory Crafting Recipe\",\n    alchemyRecipe: \"Alchemy Recipe\",\n    synergyMachine: \"Synergy Machine\",\n    megaphone: \"Megaphone\",\n    summoningSack: \"Summoning Sack\",\n    message: \"Message\",\n    lieDetector: \"Lie Detector\",\n    wedding: \"Wedding\",\n    owl: \"Owl\",\n    capsule: \"Capsule\",\n    itemPot: \"Item Pot\",\n    monsterDrop: \"Monster Drop\",\n    questItem: \"Quest Item\",\n    cosmetic: \"Cosmetic\",\n    minigame: \"Minigame\",\n    petCommand: \"Pet Command\",\n    book: \"Book\",\n    effect: \"Effect\",\n    coin: \"Coin\",\n    container: \"Container\",\n    eXPTicket: \"EXP Ticket\",\n    eventItem: \"Event Item\",\n    cashShop: \"Cash Shop\",\n    rewardItem: \"Reward Item\",\n    potentialLock: \"Potential Lock\",\n    fusion: \"Fusion\",\n    coupon: \"Coupon\",\n    crafting: \"Crafting\",\n    mineralOre: \"Mineral Ore\",\n    mineralProcessed: \"Mineral Processed\",\n    rareOre: \"Rare Ore\",\n    rareProcessedOre: \"Rare Processed Ore\",\n    craftingItem: \"Crafting Item\",\n    herb: \"Herb\",\n    herbOil: \"Herb Oil\",\n    maker: \"Maker\",\n    chair: \"Chair\",\n    extractor: \"Extractor\",\n    title: \"Title\",\n    decoration: \"Decoration\",\n    key: \"Key\",\n    commerci: \"Commerci\",\n    tradeGood: \"Trade Good\",\n    shipEnhancement: \"Ship Enhancement\",\n    evolutionLab: \"Evolution Lab\",\n    core: \"Core\",\n    mission: \"Mission\",\n    nebulite: \"Nebulite\",\n    rankDNebulite: \"Rank D Nebulite\",\n    rankCNebulite: \"Rank C Nebulite\",\n    rankBNebulite: \"Rank B Nebulite\",\n    rankANebulite: \"Rank A Nebulite\",\n    rankSNebulite: \"Rank S Nebulite\",\n    teleportRock: \"Teleport Rock\",\n    package: \"Package\",\n    itemStore: \"Item Store\",\n    questHelper: \"Quest Helper\",\n    randomReward: \"Random Reward\",\n    specialItem: \"Special Item\",\n    gachapon: \"Gachapon\",\n    surpriseBox: \"Surprise Box\",\n    exchangeCoupon: \"Exchange Coupon\",\n    equipmentModification: \"Equipment Modification\",\n    scroll: \"Scroll\",\n    upgradeSlot: \"Upgrade Slot\",\n    sPAPModification: \"SP/AP Modification\",\n    protection: \"Protection\",\n    eXPCoupon: \"EXP Coupon\",\n    dropCoupon: \"Drop Coupon\",\n    entryPass: \"Entry Pass\",\n    inventorySlot: \"Inventory Slot\",\n    eXPCoupons: \"EXP Coupons\",\n    skillModification: \"Skill Modification\",\n    weapon: \"Weapon\",\n    hairCoupon: \"Hair Coupon\",\n    hairColorCoupon: \"Hair Color Coupon\",\n    faceCoupon: \"Face Coupon\",\n    cosmeticLens: \"Cosmetic Lens\",\n    skinCoupon: \"Skin Coupon\",\n    ear: \"Ear\",\n    facialExpression: \"Facial Expression\",\n    special: \"Special\",\n    petAppearance: \"Pet Appearance\",\n    freeMarket: \"Free Market\",\n    hiredMerchant: \"Hired Merchant\",\n    storePermit: \"Store Permit\",\n    auctionHouse: \"Auction House\",\n    messengerAndSocial: \"Messenger and Social\",\n    weatherEffect: \"Weather Effect\",\n    messenger: \"Messenger\",\n    kite: \"Kite\",\n    note: \"Note\",\n    song: \"Song\",\n    characterEffect: \"Character Effect\",\n    guildForumEmoticon: \"Guild Forum Emoticon\",\n    messageboard: \"Messageboard\",\n    miscellaneous: \"Miscellaneous\",\n    cakeVsPie: \"Cake vs Pie\",\n    language: 'Language',\n    playMusic: 'Play Music',\n    region: 'Region',\n    version: 'Version',\n    clone: 'Clone',\n    downloadMinimalSpriteSheet: 'Download Minimal Spritesheet',\n    downloadMinimalLayeredSpriteSheet: 'Download Minimal Layered Spritesheet',\n    export: 'Export',\n    importCharacter: 'Import Character'\n  },\n  kr: {\n    ancientBow : \" \",\n    charactor : \"\",\n    maplestory: \"\", //(space removed)\n    design: \"\",\n    understand: \"\", //(edited from  )\n    isCashFilter: \" \",\n    genderFilter: \"\",\n    male: \"\",\n    female: \"\",\n    quickView: \"\",\n    removeAll: \" \",\n    prototype: \"       .\", //(smoothen out, grammar)\n    alpha: \" \",\n    unofficialNotice: \"   .\", //(space removed, smoothen)\n    properties: \"\",\n    expression: \"\",\n    action: \"\",\n    skin: \"\",\n    zoom: \"\",\n    universal: \"\",\n    pet: \"\",\n    character: \"\",\n    name: \"\",\n    highFloraEars : \" \",\n    illiumEars: \" \",\n    mercEars: \" \",\n    frame: \"\",\n    animate: \" \",\n    addBgToGif: \"Add BG to GIF\",\n    visible: \" \",\n    flipHorizontal: \" \",\n    footholdSnapping: \"Foothold Snapping\",\n    lock: \"\",\n    downloadSpriteSheet: \" \",\n    willDownloadZip: \".zip \",\n    downloadLayeredSpriteSheet: \"  \",\n    downloadMinimalSpriteSheet: 'Download Minimal Spritesheet',\n    requiresPDNPlugin: \"PDN  \",\n    deleteCharacter: \" \",\n    petType: \" \",\n    deletePet: \" \",\n    accessory: \"\",\n    badge: \"\",\n    belt: \"\",\n    earrings: \"\",\n    emblem: \"\",\n    faceAccessory: \"\",\n    medal: \"\",\n    eyeDecoration: \"\",\n    earring: \"\",\n    ring: \"\",\n    pendant: \"\",\n    pocketItem: \" \",\n    powerSource: \" \",\n    shoulderAccessory: \"\",\n    totem: \"\",\n    armor: \"\",\n    hat: \"\",\n    cape: \"\",\n    top: \"\",\n    glove: \"\",\n    overall: \"\",\n    bottom: \"\",\n    shield: \"\",\n    shoes: \"\",\n    testArmor: \"Test Armor\",\n    other: \" \",\n    android: \"\",\n    dragonEquipment: \" \",\n    mechanicalHeart: \" \",\n    mechanicEquipment: \" \",\n    petEquipment: \" \",\n    bits: \"Bits\",\n    shovel: \"\",\n    pickaxe: \"\",\n    skillEffect: \" \",\n    petUse: \"Pet Use\",\n    oneHandedWeapon: \"\",\n    scepter: \"Scepter\", //(not in kr server)\n    oneHandedAxe: \"\",\n    katara: \"\",\n    cane: \"\",\n    dagger: \"\",\n    desperado: \"\",\n    whipBlade: \" \",\n    oneHandedBluntWeapon: \"\",\n    shiningRod: \" \",\n    soulShooter: \" \",\n    staff: \"\",\n    oneHandedSword: \"\",\n    wand: \"\",\n    testWeapon: \"Test Weapon\",\n    cash: \"\",\n    psyLimiter: \"ESP \",\n    chain: \"\",\n    gauntlet: \"\",\n    secondaryWeapon: \"\",\n    magicMarble: \"Magic Marble\",\n    spellbook: \"\",\n    arrowFletching: \"\",\n    powderKeg: \"\",\n    farSight: \"\",\n    card: \"\",\n    ironChain: \"\",\n    bowThimble: \"\",\n    jewel: \"\",\n    document: \"\",\n    magicArrow: \"\",\n    charm: \"\",\n    orb: \"\",\n    rosary: \"\",\n    daggerScabbard: \" \",\n    wristBand: \"\",\n    arrowhead: \"\",\n    jettSCore: \"Jett's Core\", //(not in kr server)\n    novaSEssence: \" \",\n    soulRing: \"\",\n    magnum: \"\",\n    kodachi: \"Kodachi\", //(not in kr server)\n    whistle: \"Whistle\", //(not in kr server)\n    jettFists: \"Jett Fists\", //(not in kr server)\n    mass: \"\",\n    foxMarble: \"\",\n    coreController: \"\",\n    charges: \"\",\n    chessPiece: \"\",\n    transmitter: \" \",\n    wings: \"\",\n    twoHandedWeapon: \"\",\n    twoHandedAxe: \"\",\n    bow: \"\",\n    crossbow: \"\",\n    dualBowgun: \"\",\n    gun: \"\",\n    handCannon: \"\",\n    knuckle: \"\",\n    twoHandedBlunt: \"\",\n    poleArm: \"\",\n    spear: \"\",\n    twoHandedSword: \"\",\n    claw: \"\",\n    katana: \"\",\n    fan: \"Fan\", //(not in kr server)\n    lapis: \"\",\n    lazuli: \"\",\n    armCannon: \" \",\n    face: \"\",\n    hair: \"\",\n    monster: \"\",\n    crusaderCodex: \"Crusader Codex\", //(not in kr server) - maybe  \n    monsterBattle: \"  \",\n    mount: \"\",\n    consumable: \"\",\n    potion: \"\",\n    foodAndDrink: \" \",\n    statusCure: \" \",\n    petFood: \" \",\n    transformation: \"Transformation\",\n    eXPPotion: \" \",\n    characterModification: \"Character Modification\",\n    timeSaver: \"Time Saver\",\n    equipmentBox: \"Equipment Box\",\n    teleportItem: \"\",\n    eXPBuff: \" \",\n    appearance: \"\",\n    armorScroll: \" \",\n    helmet: \"\",\n    eye: \"\",\n    topwear: \"\",\n    bottomwear: \"\",\n    gloves: \"\",\n    belts: \"\",\n    shoulder: \"\",\n    equipment: \"\",\n    weaponScroll: \" \",\n    oneHandedBW: \"\",\n    twoHandedBW: \"\",\n    polearm: \"\",\n    zero: \"\",\n    specialScroll: \"Speical Scroll\",\n    cleanSlateScroll: \" \",\n    slotCarver: \" \",\n    bonusPotentialScroll: \"  \",\n    chaosScroll: \" \",\n    equipEnhancement: \"Equip Enhancement\",\n    potentialScroll: \"  \",\n    awakeningStamp: \"  \",\n    innocenceScroll: \" \",\n    fusionAnvil: \" \",\n    whiteScroll: \" \",\n    hammer: \"\",\n    magnifyingGlass: \" \",\n    timeExtension: \"Time Extension\",\n    luckyDayScroll: \" \",\n    protectionScroll: \" \",\n    safetyScroll: \" \",\n    guardianScroll: \" \",\n    equipmentChange: \"Equipment Change\",\n    soulWeapon: \"\",\n    miracleCube: \" \",\n    trade: \"\",\n    masteryBook: \"\",\n    aPSPReset: \"AP/SP \",\n    monsterTaming: \"Monster Taming\", //(not in kr server)\n    circulator: \"\",\n    dust: \"\",\n    tablet: \"\",\n    projectile: \"\",\n    arrow: \"\",\n    thrown: \"Thrown\",\n    crossbowBolt: \" \",\n    bullet: \"\",\n    monsterFamiliar: \"Monster/Familiar\",\n    monsterCard: \"Monster Card\",\n    familiarSkill: \"Familiar Skill\",\n    familiarCard: \"Familiar Card\",\n    recipe: \"\",\n    smithingRecipe: \"  \",\n    accessoryCraftingRecipe: \"  \",\n    alchemyRecipe: \" \",\n    synergyMachine: \"Synergy Machine\",\n    megaphone: \"\",\n    summoningSack: \" \",\n    message: \"\",\n    lieDetector: \" \",\n    wedding: \"\",\n    owl: \"\",\n    capsule: \"\",\n    itemPot: \"Item Pot\",\n    monsterDrop: \"Monster Drop\",\n    questItem: \" \",\n    cosmetic: \"Cosmetic\",\n    minigame: \"\",\n    petCommand: \" \",\n    book: \"Book\",\n    effect: \"\",\n    coin: \"\",\n    container: \"Container\",\n    eXPTicket: \"EXP Ticket\",\n    eventItem: \" \",\n    cashShop: \"\",\n    rewardItem: \" \",\n    potentialLock: \"Potential Lock\",\n    fusion: \" \",\n    coupon: \"\",\n    crafting: \"\",\n    mineralOre: \"Mineral Ore\",\n    mineralProcessed: \"Mineral Processed\",\n    rareOre: \"Rare Ore\",\n    rareProcessedOre: \"Rare Processed Ore\",\n    craftingItem: \" \",\n    herb: \"\",\n    herbOil: \" \",\n    maker: \"Maker\",\n    chair: \"\",\n    extractor: \"Extractor\",\n    title: \"\",\n    decoration: \"Decoration\",\n    key: \"Key\",\n    commerci: \"Commerci\",\n    tradeGood: \"Trade Good\",\n    shipEnhancement: \"Ship Enhancement\",\n    evolutionLab: \"Evolution Lab\",\n    core: \"Core\",\n    mission: \"Mission\",\n    nebulite: \"\",\n    rankDNebulite: \"D \",\n    rankCNebulite: \"C \",\n    rankBNebulite: \"B \",\n    rankANebulite: \"A \",\n    rankSNebulite: \"S \",\n    teleportRock: \" \",\n    package: \"\",\n    itemStore: \"\",\n    questHelper: \"Quest Helper\",\n    randomReward: \" \",\n    specialItem: \" \",\n    gachapon: \"Gachapon\", //(not in kr server)\n    surpriseBox: \"Surprise Box\",\n    exchangeCoupon: \" \",\n    equipmentModification: \"\",\n    scroll: \"\",\n    upgradeSlot: \" \",\n    sPAPModification: \"SP/AP Modification\",\n    protection: \"Protection\",\n    eXPCoupon: \" \",\n    dropCoupon: \" \",\n    entryPass: \"\",\n    inventorySlot: \" \",\n    eXPCoupons: \" \",\n    skillModification: \" \",\n    weapon: \"\",\n    hairCoupon: \"\",\n    hairColorCoupon: \"\",\n    faceCoupon: \"\",\n    cosmeticLens: \" \",\n    skinCoupon: \"\",\n    ear: \"\",\n    facialExpression: \"\",\n    special: \"\",\n    petAppearance: \" \",\n    freeMarket: \"\",\n    hiredMerchant: \"\",\n    storePermit: \"\",\n    auctionHouse: \"\",\n    messengerAndSocial: \" \",\n    weatherEffect: \"\",\n    messenger: \"\",\n    kite: \"Kite\",\n    note: \"Note\",\n    song: \"\",\n    characterEffect: \" \",\n    guildForumEmoticon: \"  \",\n    messageboard: \"\",\n    miscellaneous: \" \",\n    cakeVsPie: \" vs \",\n    language: \"\",\n    playMusic: \" \",\n    region: \"\",\n    version: \"\",\n    gender: \"\"\n  }\n}\n\nexport default {\n  getLocalized(language) {\n    return {\n      ...all['kr'],\n      ...all[language]\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport './index.css'\nimport ItemListing from '../ItemListing'\nimport EquippedItems from '../EquippedItems'\nimport _ from 'lodash'\nimport CharacterList from '../CharacterList'\nimport 'react-notifications/lib/notifications.css'\nimport {NotificationContainer, NotificationManager} from 'react-notifications'\nimport RenderCanvas from '../RenderCanvas'\nimport axios from 'axios'\nimport VirtualizedSelect from 'react-virtualized-select'\n\nimport createFilterOptions from 'react-select-fast-filter-options'\nimport Slider from 'rc-slider'\nimport RcTooltip from 'rc-tooltip'\nimport { SketchPicker } from 'react-color'\nimport Localization from '../../const/localize'\nimport Localize from '../../const/localize'\nimport { Tooltip } from 'react-tippy'\nimport FontAwesome from 'react-fontawesome'\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport Toggle from 'react-toggle'\nimport Sidebar from \"react-sidebar\";\nconst mql = window.matchMedia(`(min-width: 800px)`);\n\n\nif (localStorage['initialized'] != '2') {\n  localStorage['region'] = 'KMS'\n  localStorage['version'] = '328'\n  localStorage['initialized'] = '2'\n}\n\nif (!localStorage['language']) {\n  if (navigator.language.startsWith('ko')) localStorage['language'] = 'kr'\n  else if (navigator.language.startsWith('ja')) localStorage['language'] = 'jp'\n  else if (navigator.language.startsWith('zh')) localStorage['language'] = 'ch'\n  else if (navigator.language.startsWith('nl')) localStorage['language'] = 'nl'\n  else if (navigator.language.startsWith('pt')) localStorage['language'] = 'br'\n  else localStorage['language'] = 'en'\n}\n\nvar creatingId = null\nconst throttledErrorNotification = _.throttle(NotificationManager.error.bind(NotificationManager), 1500, { leading:true })\nlet mapsIndexed = null\nlet versions = {\n  GMS: [{region: \"GMS\", MapleVersionId: \"latest\", IsReady: true}],\n  KMS: [{region: \"KMS\", MapleVersionId: \"328\", IsReady: true}],\n  TMS: [{region: \"TMS\", MapleVersionId: \"latest\", IsReady: true}],\n  CMS: [{region: \"CMS\", MapleVersionId: \"latest\", IsReady: true}],\n  JMS: [{region: \"JMS\", MapleVersionId: \"latest\", IsReady: true}],\n  SEA: [{region: \"SEA\", MapleVersionId: \"latest\", IsReady: true}]\n}\n\nfunction toCamel(o) {\n  var newO, origKey, newKey, value\n  if (o instanceof Array) {\n    return o.map(function(value) {\n        if (typeof value === \"object\") {\n          value = toCamel(value)\n        }\n        return value\n    })\n  } else {\n    newO = {}\n    for (origKey in o) {\n      if (o.hasOwnProperty(origKey)) {\n        newKey = (origKey.charAt(0).toLowerCase() + origKey.slice(1) || origKey).toString()\n        value = o[origKey]\n        if (value instanceof Array || (value !== null && value.constructor === Object)) {\n          value = toCamel(value)\n        }\n        newO[newKey] = value\n      }\n    }\n  }\n  return newO\n}\n\nlet wzPromise = axios.get(`https://maplestory.io/api/wz?cache=false`)\n.then(response => {\n  let WZs = _.map(response.data.filter(wzEntry => wzEntry.isReady), wzEntry => {\n    return {\n      ...wzEntry,\n      region: wzEntry.region\n    }\n  })\n  versions = _.groupBy(WZs, 'region')\n\n  let region = localStorage['region'], version = localStorage['version']\n\n  if (!region || (version != '328' && _.findIndex(versions[region], ver => ver.mapleVersionId == version) == -1)) {\n    localStorage['region'] = 'KMS'\n    localStorage['version'] = '328'\n    window.location.reload()\n  }\n\n  console.log(versions);\n  return versions;\n})\n\nlet maps = []\nlet mapsFilter = null\nlet mapPromise = axios.get(`https://maplestory.io/api/KMS/328/map`).then(response => {\n      maps = _.map(response.data, map => {\n        return {\n          label: [map.streetName, map.name].join(' - '),\n          value: map.id\n        }\n      });\n      mapsFilter = createFilterOptions({options: maps})\n    });\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    let isOpen = (localStorage || {})['hideModal'] !== 'true'\n    if (isOpen === '' || isOpen === undefined || isOpen === 'undefined')\n      isOpen = true\n\n    // Try to recover any existing state\n    this.state = {\n      isModalOpen: isOpen,\n      characters: JSON.parse(localStorage['characters'] || 'false') || [false],\n      pets: JSON.parse(localStorage['pets'] || 'false') || [],\n      selectedIndex: JSON.parse(localStorage['selectedIndex'] || 'false') || 0,\n      selectedMap: JSON.parse(localStorage['selectedMap'] || 'false') || null,\n      zoom: JSON.parse(localStorage['zoom'] || 'false') || 1,\n      mapPosition: {x: 0, y: 0},\n      backgroundColor: JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"},\n      colorPickerOpen: false,\n      language: localStorage['language'] == 'undefined' ? 'en' : localStorage['language'],\n      music: false,\n      region: localStorage['region'] ? localStorage['region'] : 'KMS',\n      version: localStorage['version'] ? localStorage['version'] : '328',\n      sidebarDocked: mql.matches,\n      sidebarOpen: false,\n      sidebarRDocked: mql.matches,\n      sidebarROpen: false,\n      versions\n    }\n\n    if (versions.KMS.length > 1)\n      this.state.versions = versions\n    else\n      wzPromise.then(ver => this.setState({versions}))\n\n    if (this.state.selectedIndex < 0) this.state.selectedIndex = false;\n    this.state.focusRenderable = this.state.selectedIndex\n\n    // If we have a legacy character, upgrade to latest now\n    if (!_.isEmpty(this.state.selectedItems || {})) {\n      const currentCharacter = {\n        selectedItems: this.state.selectedItems,\n        skin: this.state.skin || 2000\n      }\n      if (this.state.characters[0] === false)\n        this.state.characters[0] = currentCharacter;\n      else\n        this.state.characters.push(currentCharacter)\n    }\n\n    // If we have no characters at all, gen a new shell\n    if (this.state.characters[0] === false)\n      this.state.characters[0] = this.getNewCharacter()\n\n    delete localStorage['selectedItems'];\n    delete localStorage['skin'];\n    delete localStorage['frame'];\n    delete localStorage['mercEars'];\n    delete localStorage['illiumEars'];\n\n    if (localStorage['currentCharacter']) {\n      this.state = JSON.parse(localStorage['currentCharacter'])\n      delete localStorage['currentCharacter']\n      localStorage['characters'] = JSON.stringify([...this.state.characters, this.state])\n      this.state['characters'] = [...this.state.characters, this.state]\n    }\n\n    this.state.characters.forEach((character, index) => {\n      if (!character.id) character.id = Date.now() + (index + 1)\n      character.type = 'character'\n      character.action = character.action || 'stand1'\n      character.frame = character.frame || 0\n      character.zoom = character.zoom || 1\n      character.emotion = character.emotion || 'default'\n      character.newHair = ''\n      character.skin = character.skin || 2000\n      character.mercEars = character.mercEars || false\n      character.illiumEars = character.illiumEars || false\n      character.selectedItems = character.selectedItems || []\n      character.visible = character.visible || false\n      character.position = character.position || {x:0,y:0}\n      character.flipX = character.flipX || false;\n      character.name = character.name || '';\n      character.includeBackground = character.includeBackground === undefined ? true : character.includeBackground\n      let characterItems = _.values(toCamel(character.selectedItems)).map(item => {\n        if (!item.region) item.region = localStorage['region']\n        if (!item.version) item.version = localStorage['version']\n        return item\n      })\n      character.selectedItems = _.keyBy(characterItems, (item) => item.typeInfo.subCategory)\n      delete character.characters\n      delete character.otherCharacters\n      delete character.allCharacters\n    })\n\n    this.state.pets.forEach((pet, index) => {\n      if (!pet.id) pet.id = Date.now() + (index + 1)\n      pet.type = 'pet'\n      pet.position = pet.position || { x: 0, y: 0}\n      pet.summary = `https://maplestory.io/api/KMS/328/pet/${pet.petId}/${pet.animation || 'stand0'}/${pet.frame || 0}/${_.values(pet.selectedItems).map(item => item.id).join(',')}?resize=${pet.zoom || 1}`\n    })\n\n    if ((this.state.selectedIndex + 1) > (this.state.characters.length + this.state.pets.length) || !this.state.characters.length)\n      this.state.selectedIndex = false;\n\n\n    document.addEventListener(\"click\", this.handleClick.bind(this))\n\n    if (maps.length) this.state.mapsLoaded = true\n    else mapPromise.then(() => setTimeout(() => this.setState({mapsLoaded : true}), 250))\n    this.mediaQueryChanged = this.mediaQueryChanged.bind(this);\n    this.onSetSidebarOpen = this.onSetSidebarOpen.bind(this);\n    this.onSetRightSidebarOpen = this.onSetRightSidebarOpen.bind(this);\n    this.changEvent = this.changEvent.bind(this);\n  }\n\n  componentWillMount() {\n    mql.addListener(this.mediaQueryChanged);\n  }\n\n  componentWillUnmount() {\n    mql.removeListener(this.mediaQueryChanged);\n  }\n\n  onSetSidebarOpen(open) {\n    this.setState({ sidebarOpen: open });\n    if(!this.state.sidebarDocked && this.state.sidebarOpen){\n      this.setState({ sidebarOpen: false });\n    }\n  }\n\n  onSetRightSidebarOpen(open) {\n    this.setState({ sidebarROpen: open });\n    if(!this.state.sidebarRDocked && this.state.sidebarROpen){\n      this.setState({ sidebarROpen: false });\n    }\n  }\n\n  mediaQueryChanged() {\n    this.setState({ sidebarDocked: mql.matches, sidebarOpen: false, sidebarRDocked: mql.matches, sidebarROpen: false });\n  }\n\n  changeRegionVersion(region, version) {\n    localStorage['region'] = region\n    localStorage['version'] = version\n\n    // Much easier than trying to reload everything here :D\n    window.location.reload()\n  }\n\n  handleClick(e) {\n    let element = e.target\n    let found = false\n    while (this.state.colorPickerOpen && !found && (element = element.parentElement) != null) {\n      if (element.className != 'bg-color-picker-container') continue;\n      else {\n        found = true;\n        console.log('found bg-color-picker-container')\n      }\n    }\n\n    if (!found && this.state.colorPickerOpen) this.setState({ colorPickerOpen: false })\n  }\n\n  changEvent(e){\n    this.state.characters[this.state.selectedIndex].newHair = e;\n  }\n\n  render() {\n    const {\n      characters,\n      pets,\n      selectedIndex,\n      isModalOpen,\n      zoom,\n      summary,\n      selectedMap,\n      focusRenderable,\n      backgroundColor,\n      colorPickerOpen,\n      language,\n      music\n    } = this.state\n\n    const localized = Localize.getLocalized(language)\n\n    const bgColorText = `rgba(${backgroundColor.rgb.r}, ${backgroundColor.rgb.g}, ${backgroundColor.rgb.b}, ${backgroundColor.rgb.a})`\n\n    const renderables = characters.concat(pets)\n\n    return (\n      <div className={\"App\"}>\n      <div className=\"App-header\">\n          <span className='item-span' onClick={() => this.onSetSidebarOpen(true)}>&#9776;</span>\n          <span className='item-span' onClick={() => this.onSetRightSidebarOpen(true)}>&#9881;</span>\n        </div>\n        <input type=\"hidden\" id=\"rtLinkRl\"/>\n      { (selectedIndex !== false) ?\n        <Sidebar\n          sidebar={<ItemListing\n            target={renderables[selectedIndex]}\n            onItemSelected={this.userSelectedItem.bind(this)}\n            localized={localized} />}\n            open={this.state.sidebarOpen}\n          docked={this.state.sidebarDocked}\n          onSetOpen={this.onSetSidebarOpen}\n          styles={{\n           overlay: {\n             zIndex: !this.state.sidebarDocked && this.state.sidebarOpen ? 3001 : 2000,\n           },\n           sidebar: {\n             width: 300,\n             zIndex: 4000,\n             boxShadow: (this.state.sidebarDocked || !this.state.sidebarOpen) ? 'none' : 'rgba(0, 0, 0, 0.15) 2px 2px 2px;',\n           },\n           content: {\n             top: 64,\n           }\n         }}></Sidebar> : '' }\n         {\n           (selectedIndex !== false && !_.isEmpty(renderables[selectedIndex].selectedItems) ?\n           <Sidebar\n             sidebar={<EquippedItems\n               equippedItems={renderables[selectedIndex].selectedItems}\n               selectedIndex={renderables[selectedIndex]}\n               onRemoveItem={this.userRemovedItem.bind(this)}\n               name={renderables[selectedIndex].name}\n               skinId={renderables[selectedIndex].skin}\n               onUpdateItem={this.updateItem.bind(this)}\n               colorChage={this.changEvent}\n               localized={localized}\n               onRemoveItems={this.userRemovedItems.bind(this)} />}\n               open={this.state.sidebarROpen}\n             docked={this.state.sidebarRDocked}\n             onSetOpen={this.onSetRightSidebarOpen}\n             pullRight={true}\n             shadow={false}\n             styles={{\n               overlay: {\n                 zIndex: !this.state.sidebarRDocked && this.state.sidebarROpen ? 3001 : 2000,\n               },\n               sidebar: {\n                 width: 300,\n                 zIndex: 4000\n               },\n               content: {\n                 top: 64,\n               }\n            }}></Sidebar> : '')\n         }\n        <RenderCanvas\n          backgroundColor={bgColorText}\n          zoom={zoom}\n          mapId={selectedMap}\n          renderables={renderables}\n          selectedRenderable={selectedIndex}\n          focusRenderable={focusRenderable === undefined ? selectedIndex : focusRenderable}\n          onUpdateRenderable={this.updateRenderable.bind(this)}\n          onClick={this.clickCanvas.bind(this)}\n          localized={localized}\n          onClickRenderable={this.userUpdateSelectedRenderable.bind(this)}/>\n\n        <CharacterList\n          renderables={renderables}\n          selectedIndex={selectedIndex}\n          onAddCharacter={this.addCharacter.bind(this)}\n          onAddPet={this.addPet.bind(this)}\n          onImportCharacter={this.importCharacter.bind(this)}\n          onDeleteCharacter={this.removeCharacter.bind(this)}\n          onCloneCharacter={this.cloneCharacter.bind(this)}\n          onDeletePet={this.removePet.bind(this)}\n          localized={localized}\n          onUpdateSelectedCharacter={function (renderable) {\n            this.userUpdateSelectedRenderable(renderable, () => {\n              this.setState({\n                focusRenderable: this.state.selectedIndex\n              })\n            })\n          }.bind(this)}\n          onUpdateCharacter={this.userUpdateCharacter.bind(this)}\n          onUpdatePet={this.userUpdatePet.bind(this) }/>\n\n\n\n        <NotificationContainer />\n        { music ? <audio src={`//maplestory.io/api/KMS/328/map/${selectedMap}/bgm`} autoPlay={true} loop={true} /> : '' }\n      </div>\n    )\n  }\n\n  renderSettings() {\n    const {\n      characters,\n      pets,\n      selectedIndex,\n      isModalOpen,\n      zoom,\n      summary,\n      selectedMap,\n      focusRenderable,\n      backgroundColor,\n      colorPickerOpen,\n      language\n    } = this.state\n\n    const localized = Localize.getLocalized(language)\n\n    const bgColorText = `rgba(${backgroundColor.rgb.r}, ${backgroundColor.rgb.g}, ${backgroundColor.rgb.b}, ${backgroundColor.rgb.a})`\n    return (\n      <div className='settings-container'>\n        <label className='bg-color-picker-container' onClick={this.openColorPicker.bind(this)}>\n        Background color\n          <div className='bg-color-picker'>\n            <div className='bg-color-grid' style={{ backgroundColor: bgColorText }}></div>\n          </div>\n          { colorPickerOpen ? <SketchPicker color={bgColorText} onChange={this.onChangeColor.bind(this)} /> : '' }\n        </label>\n        <label className='canvas-zoom'>\n          <span>{localized.zoom}</span>\n          <Slider\n            value={zoom || 1}\n            min={0.25}\n            max={2}\n            step={0.25}\n            handle={handle}\n            onChange={this.changeZoom.bind(this)} />\n        </label>\n        <label className='canvas-zoom'>\n          <span>{localized.language}</span>\n          <select value={this.state.language} onChange={this.changeLanguage.bind(this)}>\n            <option value='en'>English</option>\n            <option value='jp'>Japanese</option>\n            <option value='kr'>Korean</option>\n            <option value='ch'>Chinese (Traditional)</option>\n            <option value='nl'>Dutch</option>\n            <option value='br'>Portuguese (Brazil)</option>\n          </select>\n        </label>\n        <div>\n          <div className='map-select-container'>\n            <VirtualizedSelect\n              filterOptions={mapsFilter}\n              isLoading={maps.length === 0}\n              name='map-selection'\n              searchable\n              clearable\n              simpleValue\n              value={selectedMap}\n              onChange={this.selectMap.bind(this)}\n              options={maps}\n              maxHeight={400}\n              styles={{\n                menuList: (styles, {data}) => {\n                  return {\n                    ...styles,\n                    height: '400px'\n                  }\n                },\n                menu: (styles, {data}) => {\n                  return {\n                    ...styles,\n                    height: '400px'\n                  }\n                }\n              }}\n              />\n          </div>\n        </div>\n        <label>\n          <span>{localized.region}</span>\n          <select value={this.state.region} onChange={(e) => this.changeRegionVersion(e.target.value, \"328\")}>\n            { _.keys(this.state.versions).map(versionName => <option value={versionName} key={versionName}>{versionName}</option>) }\n          </select>\n        </label>\n        <label>\n          <span>{localized.version}</span>\n          <select value={this.state.version} onChange={(e) => this.changeRegionVersion(this.state.region, e.target.value)}>\n            { this.state.versions[this.state.region].map(({mapleVersionId}) => <option value={mapleVersionId} key={mapleVersionId}>{mapleVersionId}</option>) }\n            <option value='328' key='328'>328</option>\n          </select>\n        </label>\n        <label>\n          <span>{localized.playMusic}</span>\n          <Toggle\n            onChange={this.toggleMusic.bind(this)}\n            checked={this.state.music} />\n        </label>\n        <label>\n          <a href='#' onClick={this.exportAllCharacters.bind(this)}>Export All Characters</a>\n        </label>\n      </div>\n    )\n  }\n\n  toggleMusic(e) {\n    this.setState({\n      music: !this.state.music\n    })\n  }\n\n  exportAllCharacters() {\n    this.state.characters.forEach(character => {\n      const a = document.createElement('a')\n      a.style = 'display: none;'\n      document.body.appendChild(a)\n\n      const payload = JSON.stringify(character, null, 2),\n        blob = new Blob([payload], {type: 'octet/stream'}),\n        url = window.URL.createObjectURL(blob)\n      a.href = url\n      if (character.name)\n        a.download = character.name + '-data.json'\n      else\n        a.download = 'character-data.json'\n      a.click()\n\n      window.URL.revokeObjectURL(url)\n      a.remove()\n    })\n  }\n\n  changeLanguage(e) {\n    this.setState({\n      language: e.target.value\n    })\n    localStorage['language'] = e.target.value\n  }\n\n  changeZoom(newZoom) {\n    this.setState({ zoom: newZoom })\n    localStorage['zoom'] = newZoom\n  }\n\n  selectMap(mapId) {\n    this.setState({\n      selectedMap: mapId\n    })\n    localStorage['selectedMap'] = mapId\n  }\n\n  updateRenderable(renderable, newProps) {\n    if (renderable.type == 'pet') this.userUpdatePet(renderable, newProps)\n    if (renderable.type == 'character' || renderable.type === undefined) this.userUpdateCharacter(renderable, newProps)\n  }\n\n  clickCanvas(e) {\n    if (e.target === e.currentTarget && (this.state.characters.length + this.state.pets.length) > 1) {\n      this.setState({ selectedIndex: false })\n      localStorage['selectedIndex'] = 'false'\n    }\n  }\n\n  addPet() {\n    var pets = [...(this.state.pets || []), this.getNewPet()]\n    this.setState({pets, selectedIndex: this.state.characters.length + this.state.pets.length})\n    localStorage['pets'] = JSON.stringify(pets)\n  }\n\n  removePet(pet) {\n    var pets = this.state.pets.filter(c => c != pet)\n    this.setState({ pets, selectedIndex: false, zoom: 1 }) // Unselect any pet in case we delete the last pet\n    localStorage['pets'] = JSON.stringify(pets)\n    localStorage['selectedIndex'] = false\n    localStorage['zoom'] = 1\n  }\n\n  getNewPet() {\n    const andysFavePetIds = [5000000, 5000001, 5000002, 5000003, 5000004, 5000005]\n    const petId = andysFavePetIds[Math.floor(Math.random() * andysFavePetIds.length)]\n    return {\n      petId,\n      selectedItems: [],\n      id: Date.now(),\n      type: 'pet',\n      summary: `https://maplestory.io/api/KMS/328/pet/${petId}/stand0`,\n      animation: 'stand0',\n      visible: true,\n      frame: 0,\n      zoom: 1,\n      fhSnap: true,\n      position: { x:0, y:0 }\n    }\n  }\n\n  importCharacter(e) {\n    let target = e.target\n    let importAll = Array.prototype.map.call(target.files, file => {\n      return new Promise((res, rej) => {\n        let extension = file.name.substr(file.name.lastIndexOf('.') + 1).toLowerCase()\n        if (extension != 'json') {\n          console.warn('Not valid JSON file')\n          return\n        }\n\n        let reader = new FileReader()\n        reader.onload = function (ev) {\n          let payload = ev.target.result\n          let data = JSON.parse(payload)\n\n          res()\n          if (!data.id || data.type != 'character' || !data.selectedItems) return\n\n          data.id = Date.now()\n\n          let characters = [\n            ...this.state.characters,\n            data\n          ]\n          this.setState({\n            characters,\n            selectedIndex: this.state.characters.length\n          })\n          localStorage['characters'] = JSON.stringify(characters)\n        }.bind(this)\n\n        reader.readAsText(file, 'UTF8')\n      })\n    })\n\n    Promise.all(importAll).then(() => {\n      target.value = ''\n    })\n  }\n\n  addCharacter() {\n    var characters = [ ...this.state.characters, this.getNewCharacter() ]\n    this.setState({ characters, selectedIndex: this.state.characters.length })\n    localStorage['characters'] = JSON.stringify(characters)\n  }\n\n  removeCharacter(character) {\n    var characters = this.state.characters.filter(c => c != character)\n    this.setState({ characters, selectedIndex: false, zoom: 1 }) // Unselect any character in case we delete the last character\n    localStorage['characters'] = JSON.stringify(characters)\n    localStorage['selectedIndex'] = false\n    localStorage['zoom'] = 1\n  }\n\n  cloneCharacter(character) {\n    let characters = [\n      ...this.state.characters\n    ]\n\n    let indexOfCharacter = characters.indexOf(character)\n    characters.splice(indexOfCharacter + 1, 0, {\n      ...character,\n      id: Date.now(),\n      position: {\n        x: character.position.x + 100,\n        y: character.position.y\n      }\n    })\n    let newCharacterIndex = indexOfCharacter + 1\n\n    this.setState({ characters, selectedIndex: newCharacterIndex, focusRenderable: newCharacterIndex + 1 })\n    localStorage['selectedIndex'] = newCharacterIndex\n    localStorage['characters'] = JSON.stringify(characters)\n  }\n\n  userUpdateSelectedRenderable(renderable, callback) {\n    let selectedIndex = this.state.characters.indexOf(renderable)\n    if (selectedIndex == -1) {\n      selectedIndex = this.state.pets.indexOf(renderable)\n      if (selectedIndex != -1) selectedIndex += this.state.characters.length\n    }\n    this.setState({\n      selectedIndex,\n      zoom: 1\n    }, callback)\n    localStorage['selectedIndex'] = selectedIndex\n    localStorage['zoom'] = 1\n  }\n\n  userUpdatePet(pet, newProps) {\n    if (pet.locked === true && newProps.locked === undefined) {\n      throttledErrorNotification('Pet is locked and can not be modified', '', 1000)\n      return;\n    }\n\n    const pets = [...this.state.pets]\n    const petIndex = pets.indexOf(pet)\n\n    const currentPet = pets[petIndex] = {\n      ...pet,\n      ...newProps\n    }\n\n    currentPet.summary = `https://maplestory.io/api/KMS/328/pet/${currentPet.petId}/${currentPet.animation || 'stand0'}/${currentPet.frame || 0}/${_.values(currentPet.selectedItems).map(item => item.id).join(',')}?resize=${currentPet.zoom || 1}`\n\n    this.setState({\n        pets: pets\n    })\n    localStorage['pets'] = JSON.stringify(pets)\n  }\n\n  userUpdateCharacter(character, newProps) {\n    if (character.locked === true && newProps.locked === undefined) {\n      throttledErrorNotification('Character is locked and can not be modified', '', 1000)\n      return;\n    }\n\n    const characters = [...this.state.characters]\n    const characterIndex = characters.indexOf(character)\n\n    const currentCharacter = characters[characterIndex] = {\n      ...character,\n      ...newProps\n    }\n\n    const itemsWithEmotion = _.values(currentCharacter.selectedItems)\n      .filter(item => item.id && (item.visible === undefined || item.visible))\n      .map(item => {\n        var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${currentCharacter.emotion}` : item.id\n        if (item.hue) itemEntry = itemEntry + ';' + item.hue\n        return itemEntry\n      });\n\n    const { backgroundColor } = this.state\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    this.setState({\n        characters: characters\n    })\n    localStorage['characters'] = JSON.stringify(characters)\n  }\n\n  getNewCharacter() {\n    return {\n      id: Date.now(),\n      type: 'character',\n      action: 'stand1',\n      emotion: 'default',\n      skin: 2000,\n      zoom: 1,\n      frame: 0,\n      mercEars: false,\n      illiumEars: false,\n      selectedItems: [],\n      visible: true,\n      position: {x: 0, y: 0},\n      fhSnap: true\n    }\n  }\n\n  updateSelectedRenderable(props) {\n    if (this.state.selectedIndex+1 > this.state.characters.length)\n      this.userUpdatePet(this.state.pets[this.state.selectedIndex - this.state.characters.length], props)\n    else\n      this.userUpdateCharacter(this.state.characters[this.state.selectedIndex], props)\n  }\n\n  setModalOpen (isModalOpen) {\n    this.setState({ isModalOpen })\n  }\n\n  userSelectedItem (item) {\n    let selectedRenderable = null\n    if (this.state.selectedIndex+1 > this.state.characters.length) selectedRenderable = this.state.pets[this.state.selectedIndex - this.state.characters.length]\n    else selectedRenderable = this.state.characters[this.state.selectedIndex]\n\n    item.region = localStorage['region']\n    item.version = localStorage['version']\n\n    let selectedItems = {\n      ...selectedRenderable.selectedItems,\n    }\n\n    if (item.typeInfo) {\n      if (item.typeInfo.subCategory === 'Overall') {\n        delete selectedItems['Top']\n        delete selectedItems['Bottom']\n      }\n    }\n\n    if (item.similar) {\n      item = { ...item }\n      delete item['similar']\n    }\n\n    if (item.typeInfo) {\n      selectedItems[item.typeInfo.subCategory] = item\n    }\n    this.updateItems(selectedItems)\n  }\n\n  userRemovedItem (item) {\n    let selectedItems = {\n      ...this.state.characters[this.state.selectedIndex].selectedItems,\n    }\n    delete selectedItems[item.typeInfo.subCategory]\n    this.updateItems(selectedItems);\n  }\n\n  userRemovedItems () {\n    let selectedItems = {}\n    this.updateItems(selectedItems);\n  }\n\n  updateItem (item, newProps) {\n    let selectedItems = {\n      ...this.state.characters[this.state.selectedIndex].selectedItems,\n    }\n    selectedItems[item.typeInfo.subCategory] = {\n      ...item,\n      ...newProps\n    }\n    this.updateItems(selectedItems);\n  }\n\n  updateItems (selectedItems) {\n    console.log('New Items: ', selectedItems)\n    this.updateSelectedRenderable({\n      selectedItems\n    })\n  }\n\n  onChangeColor(backgroundColor, event) {\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    const characters = this.state.characters.map((character, index) => {\n      const itemsWithEmotion = _.values(character.selectedItems)\n      .filter(item => item.id && (item.visible === undefined || item.visible))\n      .map(item => {\n        var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${character.emotion}` : item.id\n        if (item.hue) itemEntry = itemEntry + ';' + item.hue\n        return itemEntry\n      });\n\n      return {\n        ...character\n      }\n    });\n\n    this.setState({ backgroundColor, characters })\n    localStorage['backgroundColor'] = JSON.stringify(backgroundColor)\n  }\n\n  openColorPicker() {\n    this.setState({ colorPickerOpen: true })\n  }\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <RcTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      style={{border: \"solid 2px hsl(\"+value+\", 53%, 53%)\"}}\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </RcTooltip>\n  );\n};\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport registerServiceWorker, { unregister } from './registerServiceWorker';\nimport './index.css';\n\nwindow.generateAvatarLink = function (character, linkType) {\n  let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n    let itemEntry = {\n      itemId: Number(item.id)\n    }\n\n    if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n    if (item.region && item.region.toLowerCase() != 'gms') itemEntry.region = item.region\n    if (item.version && item.version.toLowerCase() != 'latest') itemEntry.version = item.version\n    if (item.hue) itemEntry.hue = item.hue\n    if (item.saturation != 1) itemEntry.saturation = item.saturation\n    if (item.contrast != 1) itemEntry.contrast = item.contrast\n    if (item.brightness != 1) itemEntry.brightness = item.brightness\n    if (item.alpha != 1) itemEntry.alpha = item.alpha\n    if (item.islot) itemEntry.islot = item.islot\n    if (item.vslot) itemEntry.vslot = item.vslot\n\n    return itemEntry\n  })\n\n  let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n  const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n  let itemEntriesPayload = JSON.stringify([\n    ...itemEntries,\n    { itemId: Number(character.skin), region: localStorage['region'], version: localStorage['version'] },\n    { itemId: Number(character.skin) + 10000, region: localStorage['region'], version: localStorage['version'] }\n  ])\n  itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n  return `https://maplestory.io/api/character/${itemEntriesPayload}/${linkType ? linkType : (`${character.action}/${character.frame}`)}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n}\n\nconst isOnDev = window.location.host.indexOf('.dev') !== -1\nconst isOnDomain = window.location.host.indexOf('.design') !== -1\nconst isOnHttps = window.location.protocol.indexOf('https') !== -1\nif (isOnDomain && !isOnHttps)\n  window.location.protocol = 'https'\nelse {\n  ReactDOM.render(<App />, document.getElementById('root'));\n  // if (!isOnDev) registerServiceWorker();\n  unregister()\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}