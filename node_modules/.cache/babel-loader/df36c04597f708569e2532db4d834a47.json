{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\19065019\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\19065019\\\\react-test\\\\src\\\\components\\\\CharacterList\\\\CharacterEntry\\\\index.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport _ from 'lodash';\nimport Toggle from 'react-toggle';\nimport { Tooltip } from 'react-tippy';\nimport axios from 'axios';\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip';\nimport Slider from 'rc-slider';\n\nclass CharacterEntry extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actions: ['stand1', 'stand2'],\n      emotions: ['angry', 'bewildered', 'blaze', 'blink', 'bowing', 'cheers', 'chu', 'cry', 'dam', 'default', 'despair', 'glitter', 'hit', 'hot', 'hum', 'love', 'oops', 'pain', 'qBlue', 'shine', 'smile', 'stunned', 'troubled', 'vomit', 'wink'],\n      frames: {\n        stand1: 3,\n        stand2: 3\n      },\n      frameDelay: 1000\n    };\n    this.updateCharacterDetails(props, true);\n  }\n\n  componentDidUpdate(prevProps) {\n    const ifChanged = ['skin', 'selectedItems', 'action', 'frame', 'mercEars', 'illiumEars', 'zoom', 'flipX'];\n\n    if (_.find(ifChanged, property => this.props.character[property] != prevProps.character[property])) {\n      this.updateCharacterDetails(this.props, false);\n    }\n  }\n\n  updateCharacterDetails(props, isSync) {\n    const character = props.character;\n\n    const itemsWithEmotion = _.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${character.emotion}` : item.id;\n      return itemEntry;\n    });\n\n    const tryCount = this.state.tryCount;\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"210.1.1\"\n      };\n      if (item.id >= 20000 && item.id < 30000 || item.id >= 1010000 && item.id < 1020000) itemEntry.animationName = character.emotion;\n      if (item.region && item.region.toLowerCase() != 'gms') itemEntry.region = item.region;\n      if (item.version && item.version.toLowerCase() != 'latest') itemEntry.version = item.version;\n      if (item.hue) itemEntry.hue = item.hue;\n      if (item.saturation != 1) itemEntry.saturation = item.saturation;\n      if (item.contrast != 1) itemEntry.contrast = item.contrast;\n      if (item.brightness != 1) itemEntry.brightness = item.brightness;\n      if (item.alpha != 1) itemEntry.alpha = item.alpha;\n      if (item.islot) itemEntry.islot = item.islot;\n      if (item.vslot) itemEntry.vslot = item.vslot;\n      return itemEntry;\n    });\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\n      \"hsl\": {\n        \"h\": 0,\n        \"s\": 0,\n        \"l\": 0,\n        \"a\": 0\n      },\n      \"hex\": \"transparent\",\n      \"rgb\": {\n        \"r\": 0,\n        \"g\": 0,\n        \"b\": 0,\n        \"a\": 0\n      },\n      \"hsv\": {\n        \"h\": 0,\n        \"s\": 0,\n        \"v\": 0,\n        \"a\": 0\n      },\n      \"oldHue\": 0,\n      \"source\": \"rgb\"\n    };\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`;\n    let itemEntriesPayload = JSON.stringify([...itemEntries, {\n      itemId: Number(character.skin),\n      version: \"210.1.1\"\n    }, {\n      itemId: Number(character.skin) + 10000,\n      version: \"210.1.1\"\n    }]);\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2));\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '');\n\n    if (isSync) {\n      this.state.linkUsed = link;\n      axios.get(link).then(function (res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          });\n        }\n      }.bind(this));\n    } else this.setState({\n      linkUsed: link\n    }, () => {\n      axios.get(link).then(function (res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          });\n        }\n      }.bind(this));\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          character = _this$props.character,\n          isSelected = _this$props.isSelected,\n          canvasMode = _this$props.canvasMode,\n          onUpdateCharacter = _this$props.onUpdateCharacter,\n          onDeleteCharacter = _this$props.onDeleteCharacter,\n          otherProps = _objectWithoutProperties(_this$props, [\"character\", \"isSelected\", \"canvasMode\", \"onUpdateCharacter\", \"onDeleteCharacter\"]);\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"210.1.1\"\n      };\n      if (item.id >= 20000 && item.id < 30000 || item.id >= 1010000 && item.id < 1020000) itemEntry.animationName = character.emotion;\n      if (item.region && item.region.toLowerCase() != 'gms') itemEntry.region = item.region;\n      if (item.version && item.version.toLowerCase() != 'latest') itemEntry.version = item.version;\n      if (item.hue) itemEntry.hue = item.hue;\n      if (item.saturation != 1) itemEntry.saturation = item.saturation;\n      if (item.contrast != 1) itemEntry.contrast = item.contrast;\n      if (item.brightness != 1) itemEntry.brightness = item.brightness;\n      if (item.alpha != 1) itemEntry.alpha = item.alpha;\n      if (item.islot) itemEntry.islot = item.islot;\n      if (item.vslot) itemEntry.vslot = item.vslot;\n      return itemEntry;\n    });\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\n      \"hsl\": {\n        \"h\": 0,\n        \"s\": 0,\n        \"l\": 0,\n        \"a\": 0\n      },\n      \"hex\": \"transparent\",\n      \"rgb\": {\n        \"r\": 0,\n        \"g\": 0,\n        \"b\": 0,\n        \"a\": 0\n      },\n      \"hsv\": {\n        \"h\": 0,\n        \"s\": 0,\n        \"v\": 0,\n        \"a\": 0\n      },\n      \"oldHue\": 0,\n      \"source\": \"rgb\"\n    };\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`;\n    let itemEntriesPayload = JSON.stringify([...itemEntries, {\n      itemId: Number(character.skin),\n      version: \"210.1.1\"\n    }, {\n      itemId: Number(character.skin) + 10000,\n      version: \"210.1.1\"\n    }]);\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2));\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '');\n    return React.createElement(Tooltip, {\n      html: this.customizeCharacter(character),\n      delay: [100, 300],\n      position: canvasMode ? undefined : 'bottom',\n      interactive: true,\n      theme: \"light\",\n      distance: 400,\n      arrow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", Object.assign({\n      className: 'character ' + (character.visible ? 'disabled ' : 'enabled ') + (isSelected ? 'active' : 'inactive'),\n      style: {\n        backgroundImage: 'url(' + link + ')'\n      }\n    }, otherProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), \"\\xA0\"));\n  }\n\n  customizeCharacter(character) {\n    const localized = this.props.localized;\n    const _this$state = this.state,\n          actions = _this$state.actions,\n          frames = _this$state.frames,\n          emotions = _this$state.emotions;\n    const isGMSRegion = localStorage['region'].toLowerCase() == 'gms';\n    const hasName = character.name && character.name.length > 0;\n    return React.createElement(\"div\", {\n      className: \"character-customizeable-options-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"character-customizeable-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, localized.name), React.createElement(\"input\", {\n      type: \"text\",\n      value: character.name,\n      onChange: this.changeName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, localized.expression), React.createElement(\"select\", {\n      disabled: !character.selectedItems.Face,\n      onChange: this.changeEmotion.bind(this),\n      value: character.emotion,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, emotions.map(e => React.createElement(\"option\", {\n      value: e,\n      key: e,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, e)))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, localized.action), React.createElement(\"select\", {\n      onChange: this.changeAction.bind(this),\n      value: character.action,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"stand1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Standing (1-Handed)\"), React.createElement(\"option\", {\n      value: \"stand2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Standing (2-Handed)\"), React.createElement(\"option\", {\n      value: \"walk1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Walking (1-Handed)\"), React.createElement(\"option\", {\n      value: \"walk2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Walking (2-Handed)\"), React.createElement(\"option\", {\n      value: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Alert\"), React.createElement(\"option\", {\n      value: \"fly\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Flying\"), React.createElement(\"option\", {\n      value: \"heal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Healing\"), React.createElement(\"option\", {\n      value: \"jump\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Jumping\"), React.createElement(\"option\", {\n      value: \"ladder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Ladder\"), React.createElement(\"option\", {\n      value: \"rope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Rope\"), React.createElement(\"option\", {\n      value: \"prone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Prone\"), React.createElement(\"option\", {\n      value: \"proneStab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Prone + Stab\"), React.createElement(\"option\", {\n      value: \"shoot1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Shoot (1-Handed)\"), React.createElement(\"option\", {\n      value: \"shoot2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Shoot (2-Handed)\"), React.createElement(\"option\", {\n      value: \"shootF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Shoot (0F)\"), React.createElement(\"option\", {\n      value: \"sit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Sitting\"), React.createElement(\"option\", {\n      value: \"stabO1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Stab (01)\"), React.createElement(\"option\", {\n      value: \"stabO2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Stab (02)\"), React.createElement(\"option\", {\n      value: \"stabOF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Stab (0F)\"), React.createElement(\"option\", {\n      value: \"stabT1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Stab (T1)\"), React.createElement(\"option\", {\n      value: \"stabT2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Stab (T2)\"), React.createElement(\"option\", {\n      value: \"stabTF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Stab (TF)\"), React.createElement(\"option\", {\n      value: \"swingO1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Swing (01)\"), React.createElement(\"option\", {\n      value: \"swingO2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Swing (02)\"), React.createElement(\"option\", {\n      value: \"swingO3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Swing (03)\"), React.createElement(\"option\", {\n      value: \"swingOF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Swing (0F)\"), React.createElement(\"option\", {\n      value: \"swingP1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Swing (P1)\"), React.createElement(\"option\", {\n      value: \"swingP2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Swing (P2)\"), React.createElement(\"option\", {\n      value: \"swingPF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Swing (PF)\"), React.createElement(\"option\", {\n      value: \"swingT1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Swing (T1)\"), React.createElement(\"option\", {\n      value: \"swingT2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Swing (T2)\"), React.createElement(\"option\", {\n      value: \"swingT3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Swing (T3)\"), React.createElement(\"option\", {\n      value: \"swingTF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Swing (TF)\"))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, localized.skin), React.createElement(\"select\", {\n      onChange: this.changeSkin.bind(this),\n      value: character.skin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"2000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\\uD06C\\uB9BC \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2004\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"\\uC2A4\\uC0B0 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2010\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"\\uB178\\uBE14\\uB808\\uC2A4 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2001\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"\\uD0DC\\uB2DD \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2003\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"\\uBC00\\uD0A4 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2009\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"\\uCC3D\\uBC31 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2013\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"\\uB370\\uBAA8\\uB2C9 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2002\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"\\uD5EC\\uC2DC \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2011\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"\\uACE0\\uC838\\uC2A4 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2012\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"\\uC5D8\\uD504 \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2015\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"\\uBF40\\uC1A1 \\uAF43\\uC78E \\uD53C\\uBD80\"), React.createElement(\"option\", {\n      value: \"2016\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"\\uD64D\\uC870 \\uAF43\\uC78E \\uD53C\\uBD80\"))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, localized.visible), React.createElement(Toggle, {\n      onChange: this.toggleVisibility.bind(this),\n      checked: character.visible,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"section-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Ears\")), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, localized.illiumEars), React.createElement(Toggle, {\n      onChange: this.changeIlliumEars.bind(this),\n      checked: character.illiumEars,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, localized.highFloraEars), React.createElement(Toggle, {\n      onChange: this.changeHighFloraEars.bind(this),\n      checked: character.highFloraEars,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, localized.mercEars), React.createElement(Toggle, {\n      onChange: this.changeMercEars.bind(this),\n      checked: character.mercEars,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"section-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Additional Options\")), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, localized.frame), React.createElement(Slider, {\n      value: character.frame || 0,\n      min: 0,\n      max: 4 - 1,\n      handle: handle,\n      disabled: character.animating,\n      onChange: this.changeFrame.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, localized.animate), React.createElement(Toggle, {\n      onChange: this.changeAnimating.bind(this),\n      checked: character.animating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, localized.zoom), React.createElement(Slider, {\n      value: character.zoom || 1,\n      min: 1,\n      max: 10,\n      handle: handle,\n      onChange: this.changeZoom.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, localized.addBgToGif), React.createElement(Toggle, {\n      onChange: this.changeIncludeBackground.bind(this),\n      checked: character.includeBackground,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, localized.flipHorizontal), React.createElement(Toggle, {\n      onChange: this.toggleFlipX.bind(this),\n      checked: character.flipX,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, localized.footholdSnapping), React.createElement(Toggle, {\n      onChange: this.toggleFHSnap.bind(this),\n      checked: character.fhSnap || false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, localized.lock), React.createElement(Toggle, {\n      onChange: this.toggleLock.bind(this),\n      checked: character.locked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clone-btn\",\n      onClick: this.onClone.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, localized.clone), React.createElement(\"div\", {\n      className: \"clone-btn\",\n      onClick: this.onExport.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, localized.export)), React.createElement(\"label\", {\n      className: \"section-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"Spritesheets\")), React.createElement(\"a\", {\n      href: `${window.generateAvatarLink(character, 'download')}`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"download-bar bg-blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-name text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, localized.downloadSpriteSheet), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"(\", localized.willDownloadZip, \")\")))), React.createElement(\"a\", {\n      href: `${window.generateAvatarLink(character, 'download')}&format=2`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"download-bar bg-blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-name text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, localized.downloadMinimalSpriteSheet), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"(\", localized.willDownloadZip, \")\")))), React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"layered-link\",\n      href: `${window.generateAvatarLink(character, 'download')}&format=1`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"download-bar bg-blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-name text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, localized.downloadLayeredSpriteSheet), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"(\", localized.willDownloadZip, \")\"), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, localized.requiresPDNPlugin))))), React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"layered-link\",\n      href: `${window.generateAvatarLink(character, 'download')}&format=3`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"download-bar bg-blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-name text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, localized.downloadMinimalLayeredSpriteSheet), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"(\", localized.willDownloadZip, \")\"), React.createElement(\"div\", {\n      className: \"equipped-items-item-meta-category text-white bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, localized.requiresPDNPlugin)))))), React.createElement(\"div\", {\n      className: \"margin-top-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"btn btn-large bg-red text-white right\",\n      onClick: this.deleteCharacter.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, localized.deleteCharacter)));\n  }\n\n  changeIncludeBackground() {\n    this.props.onUpdateCharacter(this.props.character, {\n      includeBackground: !this.props.character.includeBackground\n    });\n  }\n\n  changeAnimating() {\n    this.props.onUpdateCharacter(this.props.character, {\n      animating: !this.props.character.animating\n    });\n  }\n\n  changeName(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      name: e.target.value\n    });\n  }\n\n  toggleFHSnap(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      fhSnap: !this.props.character.fhSnap\n    });\n  }\n\n  toggleFlipX(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      flipX: !this.props.character.flipX\n    });\n  }\n\n  deleteCharacter() {\n    const localized = this.props.localized;\n    const confirmation = window.confirm(localized.deleteCharacterConfirm);\n\n    if (confirmation) {\n      this.props.onDeleteCharacter(this.props.character);\n    }\n  }\n\n  onClone() {\n    this.props.onClone(this.props.character);\n  }\n\n  onExport() {\n    const a = document.createElement('a');\n    a.style = 'display: none;';\n    document.body.appendChild(a);\n    const payload = JSON.stringify(this.props.character, null, 2),\n          blob = new Blob([payload], {\n      type: 'octet/stream'\n    }),\n          url = window.URL.createObjectURL(blob);\n    a.href = url;\n    if (this.props.character.name) a.download = this.props.character.name + '-data.json';else a.download = 'character-data.json';\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  }\n\n  changeSkin(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      skin: e.target.value\n    });\n  }\n\n  changeEmotion(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      emotion: e.target.value\n    });\n  }\n\n  changeAction(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      action: e.target.value\n    });\n  }\n\n  changeMercEars(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      mercEars: e.target.checked\n    });\n  }\n\n  changeHighFloraEars(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      highFloraEars: e.target.checked\n    });\n  }\n\n  changeIlliumEars(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      illiumEars: e.target.checked\n    });\n  }\n\n  changeZoom(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      zoom: e\n    });\n  }\n\n  changeFrame(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      frame: e\n    });\n  }\n\n  toggleVisibility(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      visible: !this.props.character.visible\n    });\n  }\n\n  toggleLock(e) {\n    this.props.onUpdateCharacter(this.props.character, {\n      locked: !this.props.character.locked\n    });\n  }\n\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = props => {\n  const value = props.value,\n        dragging = props.dragging,\n        index = props.index,\n        restProps = _objectWithoutProperties(props, [\"value\", \"dragging\", \"index\"]);\n\n  return React.createElement(RcTooltip, {\n    prefixCls: \"rc-slider-tooltip\",\n    overlay: value,\n    visible: dragging,\n    placement: \"top\",\n    style: {\n      border: \"solid 2px hsl(\" + value + \", 53%, 53%)\"\n    },\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469\n    },\n    __self: this\n  }, React.createElement(Handle, Object.assign({\n    value: value\n  }, restProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477\n    },\n    __self: this\n  })));\n};\n\nexport default CharacterEntry;","map":{"version":3,"sources":["C:/Users/19065019/react-test/src/components/CharacterList/CharacterEntry/index.js"],"names":["React","Component","_","Toggle","Tooltip","axios","RcTooltip","Slider","CharacterEntry","constructor","props","state","actions","emotions","frames","stand1","stand2","frameDelay","updateCharacterDetails","componentDidUpdate","prevProps","ifChanged","find","property","character","isSync","itemsWithEmotion","values","selectedItems","filter","item","id","visible","undefined","map","itemEntry","emotion","tryCount","itemEntries","Object","itemId","Number","version","animationName","region","toLowerCase","hue","saturation","contrast","brightness","alpha","islot","vslot","backgroundColor","JSON","parse","localStorage","bgColorText","rgb","r","g","b","a","itemEntriesPayload","stringify","skin","encodeURIComponent","substr","length","link","action","animating","frame","mercEars","illiumEars","highFloraEars","zoom","encodeURI","name","flipX","includeBackground","linkUsed","get","then","res","setState","details","data","bind","render","isSelected","canvasMode","onUpdateCharacter","onDeleteCharacter","otherProps","customizeCharacter","backgroundImage","localized","isGMSRegion","hasName","changeName","expression","Face","changeEmotion","e","changeAction","changeSkin","toggleVisibility","changeIlliumEars","changeHighFloraEars","changeMercEars","handle","changeFrame","animate","changeAnimating","changeZoom","addBgToGif","changeIncludeBackground","flipHorizontal","toggleFlipX","footholdSnapping","toggleFHSnap","fhSnap","lock","toggleLock","locked","onClone","clone","onExport","export","window","generateAvatarLink","downloadSpriteSheet","willDownloadZip","downloadMinimalSpriteSheet","downloadLayeredSpriteSheet","requiresPDNPlugin","downloadMinimalLayeredSpriteSheet","deleteCharacter","target","value","confirmation","confirm","deleteCharacterConfirm","document","createElement","style","body","appendChild","payload","blob","Blob","type","url","URL","createObjectURL","href","download","click","revokeObjectURL","remove","checked","createSliderWithTooltip","Range","Handle","dragging","index","restProps","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './index.css'\nimport _ from 'lodash'\nimport Toggle from 'react-toggle'\nimport { Tooltip } from 'react-tippy'\nimport axios from 'axios'\nimport 'rc-slider/assets/index.css'\nimport 'rc-tooltip/assets/bootstrap.css'\nimport 'react-tippy/dist/tippy.css';\nimport RcTooltip from 'rc-tooltip'\nimport Slider from 'rc-slider'\n\nclass CharacterEntry extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      actions: ['stand1', 'stand2'],\n      emotions: [\n        'angry',\n        'bewildered',\n        'blaze',\n        'blink',\n        'bowing',\n        'cheers',\n        'chu',\n        'cry',\n        'dam',\n        'default',\n        'despair',\n        'glitter',\n        'hit',\n        'hot',\n        'hum',\n        'love',\n        'oops',\n        'pain',\n        'qBlue',\n        'shine',\n        'smile',\n        'stunned',\n        'troubled',\n        'vomit',\n        'wink'\n      ],\n      frames: { stand1: 3, stand2: 3 },\n      frameDelay: 1000\n    }\n\n    this.updateCharacterDetails(props, true)\n  }\n\n  componentDidUpdate(prevProps) {\n    const ifChanged = ['skin', 'selectedItems', 'action', 'frame', 'mercEars', 'illiumEars', 'zoom', 'flipX']\n    if (_.find(ifChanged, (property) => this.props.character[property] != prevProps.character[property])){\n      this.updateCharacterDetails(this.props, false)\n    }\n  }\n\n  updateCharacterDetails(props, isSync) {\n    const { character } = props\n    const itemsWithEmotion = _.values(character.selectedItems)\n    .filter(item => item.id && (item.visible === undefined || item.visible))\n    .map(item => {\n      var itemEntry = item.id >= 20000 && item.id <= 29999 ? `${item.id}:${character.emotion}` : item.id\n      return itemEntry\n    });\n\n    const { tryCount } = this.state\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"210.1.1\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'gms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != 'latest') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\" },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\"}\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n\n    if (isSync) {\n      this.state.linkUsed = link\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this))\n    } else this.setState({ linkUsed: link }, () => {\n      axios.get(link).then(function(res) {\n        if (this.state.linkUsed == link) {\n          this.setState({\n            details: res.data\n          })\n        }\n      }.bind(this))\n    })\n  }\n\n  render() {\n    const { character, isSelected, canvasMode, onUpdateCharacter, onDeleteCharacter, ...otherProps } = this.props\n\n    let itemEntries = Object.values(character.selectedItems).filter(item => item.id && (item.visible === undefined || item.visible)).map(item => {\n      let itemEntry = {\n        itemId: Number(item.id),\n        version: \"210.1.1\"\n      }\n\n      if ((item.id >= 20000 && item.id < 30000) || (item.id >= 1010000 && item.id < 1020000)) itemEntry.animationName = character.emotion\n      if (item.region && item.region.toLowerCase() != 'gms') itemEntry.region = item.region\n      if (item.version && item.version.toLowerCase() != 'latest') itemEntry.version = item.version\n      if (item.hue) itemEntry.hue = item.hue\n      if (item.saturation != 1) itemEntry.saturation = item.saturation\n      if (item.contrast != 1) itemEntry.contrast = item.contrast\n      if (item.brightness != 1) itemEntry.brightness = item.brightness\n      if (item.alpha != 1) itemEntry.alpha = item.alpha\n      if (item.islot) itemEntry.islot = item.islot\n      if (item.vslot) itemEntry.vslot = item.vslot\n\n      return itemEntry\n    })\n\n    let backgroundColor = JSON.parse(localStorage['backgroundColor'] || false) || {\"hsl\":{\"h\":0,\"s\":0,\"l\":0,\"a\":0},\"hex\":\"transparent\",\"rgb\":{\"r\":0,\"g\":0,\"b\":0,\"a\":0},\"hsv\":{\"h\":0,\"s\":0,\"v\":0,\"a\":0},\"oldHue\":0,\"source\":\"rgb\"}\n    const bgColorText = `${backgroundColor.rgb.r},${backgroundColor.rgb.g},${backgroundColor.rgb.b},${backgroundColor.rgb.a}`\n\n    let itemEntriesPayload = JSON.stringify([\n      ...itemEntries,\n      { itemId: Number(character.skin), version: \"210.1.1\"  },\n      { itemId: Number(character.skin) + 10000, version: \"210.1.1\" }\n    ])\n    itemEntriesPayload = encodeURIComponent(itemEntriesPayload.substr(1, itemEntriesPayload.length - 2))\n\n    const link = `https://maplestory.io/api/Character/${itemEntriesPayload}/${character.action}/${character.animating ? 'animated' : character.frame}?showears=${character.mercEars}&showLefEars=${character.illiumEars}&showHighLefEars=${character.highFloraEars}&resize=${character.zoom}&name=${encodeURI(character.name || '')}&flipX=${character.flipX}` + (character.includeBackground ? `&bgColor=${bgColorText}` : '')\n\n    return (\n      <Tooltip html={this.customizeCharacter(character)} delay={[100, 300]} position={canvasMode ? undefined : 'bottom'} interactive={true} theme='light' distance={400} arrow={true}>\n        <div\n          className={'character ' + (character.visible ? 'disabled ' : 'enabled ') + (isSelected ? 'active' : 'inactive')}\n          style={{\n            backgroundImage: 'url('+link+')'\n          }}\n          {...otherProps}>&nbsp;</div>\n      </Tooltip>\n    )\n  }\n\n  customizeCharacter(character) {\n    const { localized } = this.props\n    const { actions, frames, emotions } = this.state\n    const isGMSRegion = localStorage['region'].toLowerCase() == 'gms'\n    const hasName = character.name && character.name.length > 0\n    return (<div className='character-customizeable-options-container'>\n    <div className='character-customizeable-options'>\n      <label className='name'>\n        <span>{localized.name}</span>\n        <input type='text' value={character.name} onChange={this.changeName.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.expression}</span>\n        <select disabled={!character.selectedItems.Face} onChange={this.changeEmotion.bind(this)} value={character.emotion}>\n          {\n            emotions.map(e => (\n              <option value={e} key={e}>{e}</option>\n            ))\n          }\n        </select>\n      </label>\n      <label>\n        <span>{localized.action}</span>\n        <select onChange={this.changeAction.bind(this)} value={character.action}>\n        <option value=\"stand1\">Standing (1-Handed)</option>\n        <option value=\"stand2\">Standing (2-Handed)</option>\n        <option value=\"walk1\">Walking (1-Handed)</option>\n        <option value=\"walk2\">Walking (2-Handed)</option>\n        <option value=\"alert\">Alert</option>\n        <option value=\"fly\">Flying</option>\n        <option value=\"heal\">Healing</option>\n        <option value=\"jump\">Jumping</option>\n        <option value=\"ladder\">Ladder</option>\n        <option value=\"rope\">Rope</option>\n        <option value=\"prone\">Prone</option>\n        <option value=\"proneStab\">Prone + Stab</option>\n        <option value=\"shoot1\">Shoot (1-Handed)</option>\n        <option value=\"shoot2\">Shoot (2-Handed)</option>\n        <option value=\"shootF\">Shoot (0F)</option>\n        <option value=\"sit\">Sitting</option>\n        <option value=\"stabO1\">Stab (01)</option>\n        <option value=\"stabO2\">Stab (02)</option>\n        <option value=\"stabOF\">Stab (0F)</option>\n        <option value=\"stabT1\">Stab (T1)</option>\n        <option value=\"stabT2\">Stab (T2)</option>\n        <option value=\"stabTF\">Stab (TF)</option>\n        <option value=\"swingO1\">Swing (01)</option>\n        <option value=\"swingO2\">Swing (02)</option>\n        <option value=\"swingO3\">Swing (03)</option>\n        <option value=\"swingOF\">Swing (0F)</option>\n        <option value=\"swingP1\">Swing (P1)</option>\n        <option value=\"swingP2\">Swing (P2)</option>\n        <option value=\"swingPF\">Swing (PF)</option>\n        <option value=\"swingT1\">Swing (T1)</option>\n        <option value=\"swingT2\">Swing (T2)</option>\n        <option value=\"swingT3\">Swing (T3)</option>\n        <option value=\"swingTF\">Swing (TF)</option>\n        </select>\n      </label>\n      <label>\n        <span>{localized.skin}</span>\n        <select onChange={this.changeSkin.bind(this)} value={character.skin}>\n            <option value='2000'>크림 피부</option>\n            <option value='2004'>스산 피부</option>\n            <option value='2010'>노블레스 피부</option>\n            <option value='2001'>태닝 피부</option>\n            <option value='2003'>밀키 피부</option>\n            <option value='2009'>창백 피부</option>\n            <option value='2013'>데모닉 피부</option>\n            <option value='2002'>헬시 피부</option>\n            <option value='2011'>고져스 피부</option>\n            <option value='2012'>엘프 피부</option>\n            <option value='2015'>뽀송 꽃잎 피부</option>\n            <option value='2016'>홍조 꽃잎 피부</option>\n          </select>\n      </label>\n      <label>\n        <span>{localized.visible}</span>\n        <Toggle onChange={this.toggleVisibility.bind(this)} checked={character.visible} />\n      </label>\n      <label className=\"section-title\">\n        <span>Ears</span>\n      </label>\n      <label>\n        <span>{localized.illiumEars}</span>\n        <Toggle\n          onChange={this.changeIlliumEars.bind(this)}\n          checked={character.illiumEars} />\n      </label>\n      <label>\n        <span>{localized.highFloraEars}</span>\n        <Toggle\n          onChange={this.changeHighFloraEars.bind(this)}\n          checked={character.highFloraEars} />\n      </label>\n      <label>\n        <span>{localized.mercEars}</span>\n        <Toggle\n          onChange={this.changeMercEars.bind(this)}\n          checked={character.mercEars} />\n      </label>\n      <label className=\"section-title\">\n        <span>Additional Options</span>\n      </label>\n      <label>\n        <span>{localized.frame}</span>\n        <Slider\n          value={character.frame || 0}\n          min={0}\n          max={4 - 1}\n          handle={handle}\n          disabled={character.animating}\n          onChange={this.changeFrame.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.animate}</span>\n        <Toggle\n          onChange={this.changeAnimating.bind(this)}\n          checked={character.animating} />\n      </label>\n      <label>\n        <span>{localized.zoom}</span>\n        <Slider\n          value={character.zoom || 1}\n          min={1}\n          max={10}\n          handle={handle}\n          onChange={this.changeZoom.bind(this)} />\n      </label>\n      <label>\n        <span>{localized.addBgToGif}</span>\n        <Toggle\n          onChange={this.changeIncludeBackground.bind(this)}\n          checked={character.includeBackground} />\n      </label>\n      <label>\n        <span>{localized.flipHorizontal}</span>\n        <Toggle onChange={this.toggleFlipX.bind(this)} checked={character.flipX} />\n      </label>\n      <label>\n        <span>{localized.footholdSnapping}</span>\n        <Toggle onChange={this.toggleFHSnap.bind(this)} checked={character.fhSnap || false} />\n      </label>\n      <label>\n        <span>{localized.lock}</span>\n        <Toggle onChange={this.toggleLock.bind(this)} checked={character.locked} />\n      </label>\n      <br />\n      <div className='flex'>\n        <div className='clone-btn' onClick={this.onClone.bind(this)}>{localized.clone}</div>\n        <div className='clone-btn' onClick={this.onExport.bind(this)}>{localized.export}</div>\n      </div>\n      <label className=\"section-title\">\n        <span>Spritesheets</span>\n      </label>\n      <a href={`${window.generateAvatarLink(character, 'download')}`} target='_blank'  rel=\"noopener noreferrer\">\n        <div className='download-bar bg-blue'>\n          <div className='equipped-items-item-meta'>\n            <div className='equipped-items-item-meta-name text-white'>{localized.downloadSpriteSheet}</div>\n            <div className='equipped-items-item-meta-category text-white'>({localized.willDownloadZip})</div>\n          </div>\n        </div>\n      </a>\n      <a href={`${window.generateAvatarLink(character, 'download')}&format=2`} target='_blank'  rel=\"noopener noreferrer\">\n        <div className='download-bar bg-blue'>\n          <div className='equipped-items-item-meta'>\n            <div className='equipped-items-item-meta-name text-white'>{localized.downloadMinimalSpriteSheet}</div>\n            <div className='equipped-items-item-meta-category text-white'>({localized.willDownloadZip})</div>\n          </div>\n        </div>\n      </a>\n      <div className=\"flex\">\n        <a className='layered-link' href={`${window.generateAvatarLink(character, 'download')}&format=1`} target='_blank'  rel=\"noopener noreferrer\">\n          <div className='download-bar bg-blue'>\n            <div className='equipped-items-item-meta'>\n              <div className='equipped-items-item-meta-name text-white'>{localized.downloadLayeredSpriteSheet}</div>\n              <div className='equipped-items-item-meta-category text-white'>({localized.willDownloadZip})</div>\n              <div className='equipped-items-item-meta-category text-white bold'>{localized.requiresPDNPlugin}</div>\n            </div>\n          </div>\n        </a>\n      </div>\n      <div className=\"flex\">\n        <a className='layered-link' href={`${window.generateAvatarLink(character, 'download')}&format=3`} target='_blank'  rel=\"noopener noreferrer\">\n          <div className='download-bar bg-blue'>\n            <div className='equipped-items-item-meta'>\n              <div className='equipped-items-item-meta-name text-white'>{localized.downloadMinimalLayeredSpriteSheet}</div>\n              <div className='equipped-items-item-meta-category text-white'>({localized.willDownloadZip})</div>\n              <div className='equipped-items-item-meta-category text-white bold'>{localized.requiresPDNPlugin}</div>\n            </div>\n          </div>\n        </a>\n      </div>\n    </div>\n    <div className=\"margin-top-10\">\n      <a href=\"#\" className='btn btn-large bg-red text-white right' onClick={this.deleteCharacter.bind(this)}>{localized.deleteCharacter}</a>\n    </div>\n    </div>)\n  }\n\n  changeIncludeBackground() {\n    this.props.onUpdateCharacter(this.props.character, { includeBackground: !this.props.character.includeBackground })\n  }\n\n  changeAnimating() {\n    this.props.onUpdateCharacter(this.props.character, { animating: !this.props.character.animating })\n  }\n\n  changeName(e) {\n    this.props.onUpdateCharacter(this.props.character, { name: e.target.value })\n  }\n\n  toggleFHSnap(e) {\n    this.props.onUpdateCharacter(this.props.character, { fhSnap: !this.props.character.fhSnap })\n  }\n\n  toggleFlipX(e) {\n    this.props.onUpdateCharacter(this.props.character, { flipX: !this.props.character.flipX })\n  }\n\n  deleteCharacter() {\n    const { localized } = this.props;\n    const confirmation = window.confirm(localized.deleteCharacterConfirm);\n\n    if(confirmation) {\n      this.props.onDeleteCharacter(this.props.character)\n    }\n  }\n\n  onClone() {\n    this.props.onClone(this.props.character)\n  }\n\n  onExport() {\n    const a = document.createElement('a')\n    a.style = 'display: none;'\n    document.body.appendChild(a)\n\n    const payload = JSON.stringify(this.props.character, null, 2),\n      blob = new Blob([payload], {type: 'octet/stream'}),\n      url = window.URL.createObjectURL(blob)\n    a.href = url\n    if (this.props.character.name)\n      a.download = this.props.character.name + '-data.json'\n    else\n      a.download = 'character-data.json'\n    a.click()\n\n    window.URL.revokeObjectURL(url)\n    a.remove()\n  }\n\n  changeSkin(e) {\n    this.props.onUpdateCharacter(this.props.character, {skin: e.target.value})\n  }\n\n  changeEmotion(e) {\n    this.props.onUpdateCharacter(this.props.character, {emotion: e.target.value})\n  }\n\n  changeAction (e) {\n    this.props.onUpdateCharacter(this.props.character, { action: e.target.value })\n  }\n\n  changeMercEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { mercEars: e.target.checked });\n  }\n\n  changeHighFloraEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { highFloraEars: e.target.checked });\n  }\n\n  changeIlliumEars(e) {\n    this.props.onUpdateCharacter(this.props.character, { illiumEars: e.target.checked });\n  }\n\n  changeZoom(e) {\n    this.props.onUpdateCharacter(this.props.character, { zoom: e });\n  }\n\n  changeFrame(e) {\n    this.props.onUpdateCharacter(this.props.character, { frame: e });\n  }\n\n  toggleVisibility(e) {\n    this.props.onUpdateCharacter(this.props.character, { visible: !this.props.character.visible })\n  }\n\n  toggleLock(e) {\n    this.props.onUpdateCharacter(this.props.character, { locked: !this.props.character.locked })\n  }\n}\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\nconst Handle = Slider.Handle;\n\nconst handle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <RcTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      style={{border: \"solid 2px hsl(\"+value+\", 53%, 53%)\"}}\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </RcTooltip>\n  );\n};\n\nexport default CharacterEntry\n"]},"metadata":{},"sourceType":"module"}